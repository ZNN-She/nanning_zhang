(function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)})([function(e,t,n){"use strict";var r=n(30),i=n(71),s=n(80),o=n(113),u=n(118),a=n(37),f=n(66),l=n(109);n(121),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n=void 0;if(this===null)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(i===0)return-1;var s=+t||0;Math.abs(s)===Infinity&&(s=0);if(s>=i)return-1;n=Math.max(s>=0?s:i-Math.abs(s),0);while(n<i){if(n in r&&r[n]===e)return n;n++}return-1}),typeof Object.assign!="function"&&(Object.assign=function(e){if(e===undefined||e===null)throw new TypeError("Cannot convert undefined or null to object");var t=Object(e);for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r!==undefined||r!==null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Vue.filter("time",function(e,t){var n=function(t){return t>=10?t:"0"+t},r=function(t){return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())};if(typeof e=="number"){if(t==="date"){var i=new Date,s=new Date,o=void 0;return s.setDate(s.getDate()-1),o=new Date(i.setDate(i.getDate()-e)),"<em>"+r(o)+"</em> \u5230 <em>"+r(s)+"</em>"}return"\u6700\u8fd1"+(e===7?"\u4e03\u5929":"\u4e00\u4e2a\u6708")}return t==="date"?e.split("|").map(function(e,t){if(e.length>=8)return e.substr(0,8).replace(/(\d{4})(\d{2})(\d{2})/,"<em>$1-$2-$3</em>");var n=void 0,r=void 0,i=void 0,s=new Date;return s.setDate(s.getDate()-1),e=e.substr(0,6),n=e.substr(0,4),r=e.substr(4,2),t===0?i="01":(i=new Date(n,r,0),i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()&&(i=s),i=i.getDate()),"<em>"+n+"-"+r+"-"+i+"</em>"}).join(" \u5230 "):e.split("|").map(function(e){return e.substr(0,6).replace(/(\d{4})(\d{2})/,"$1\u5e74$2\u6708")}).join("-")});var c=new Date,h=""+c.getFullYear()+(c.getMonth()+1)+c.getDate(),p=new VueRouter({linkActiveClass:"active",hashbang:!1,history:!0}),d=Vue.extend({data:function(){return{page:"",query:"",time:30,userid:null}},computed:{keywords:function(){return this.query},keywordsList:function(){return this.query.split(",")}},components:{dialog:f.Dialog},methods:{click:function(t){this.$broadcast("proxyClick",t)},notice:function(){this.$route.name==="user"?(r.storage.setItem("usernotice_zhishu",h),this.$broadcast("userNotice",!1)):(!r.storage.getItem("usernotice_zhishu")||r.storage.getItem("usernotice_zhishu")!==h)&&this.$broadcast("userNotice",!0)}},events:{indexInit:function(){this.page="index",this.query="",this.time=30,monitor.log({page:"index"},"track")},resultInit:function(t){var n=this.$route.name;if(n==="trend"){var r=a.validate.query(window.decodeURIComponent(t.keywords||t.query)),i=a.validate.time(t.time||t.period);if(!r){p.replace({name:"index"});return}this.query!==r&&(this.query=r),this.time!==i&&(this.time=i),monitor.log({page:"trend",q:r,time:i},"track")}else monitor.log({page:n},"track");this.page=n},userInit:function(){this.page=this.$route.name},hotInit:function(){this.page=this.$route.name},querySearch:function(t){t=a.validate.query(t),(0,l.removeCookie)("__ttk",{domain:"so.com",path:"/"});if(!this.userid){this.$broadcast("signInAgent",t);return}if(t===this.query&&this.$route.name==="trend"){var n=window.location.href.replace(/(&|\?)compare=\d+&?/,"$1");if(n.substring(n.length-1)==="?"||n.substring(n.length-1)==="&")n=n.substring(0,n.length-1);window.location.href=n;return}this.query=t,t?p.go({name:"trend",query:{time:this.time,keywords:this.keywords}}):p.replace({name:"index"})},dateSearch:function(t){this.time=t,p.go({name:"trend",query:{time:this.time,keywords:this.keywords}})},userUpdate:function(t){if(!this.userid){if(t)this.userid=t,this.$broadcast("userUpdateBroadcast"),this.notice();else if(this.$route.name==="user"||this.$route.name==="trend")if(this.$route.name==="trend"){var n=(0,l.cookie)("__ttk");n||p.replace({name:"index"})}else p.replace({name:"index"})}else this.notice()},signInAgent:function(){this.$broadcast("signInAgent")},userNotice:function(){this.$broadcast("userNotice")},dialogInit:function(t){this.$broadcast("dialogInit",t)},dialogQuit:function(t,n){this.$broadcast("dialogQuit",t,n)}}});p.map({"/index":{name:"index",component:i.Index},"/result":{name:"result",component:s.Result,subRoutes:{"/trend":{name:"trend",component:s.Trend},"/rank":{name:"rank",component:s.Rank},"/topic":{name:"topic",component:s.Topic},"/popular":{name:"popular",component:s.Popular},"/none":{name:"none",component:s.None}}},"/people":{name:"user",component:o.User},"/hot":{name:"hot",component:u.Hot}}).redirect({"*":"/index","/result":"/result/trend"}).start(d,"#app")},,,,,,,,,,function(e,t){"use strict";e.exports=function(e,t,n,r){var i=0,s=[];e=""+e;for(var o=0,u=e.length;o<u;o++){var a=e.charCodeAt(o)>255?2:1;if(o<u-1&&i+a>=t){s.push(n);break}i+=a,s.push(e.charAt(o)),r&&(i-a)%r>i%r&&s.push("\n")}return s.join("")}},,,,function(e,t){"use strict";function n(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeMap=n},function(e,t){"use strict";function n(e,t){var n=[],r="";for(var i=0,s=e.length;i<s;i++)t.indexOf(e[i])!==-1?r+=e[i]:r&&(n.push(r),r="");return r&&n.push(r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.decode=n},function(e,t){"use strict";function n(e,t){var n=[],r=t.length;for(var i=0,s=e.length;i<s;i++){var o=0,u=0;for(var a=e[i].length;a--;)o+=t.indexOf(e[i][a])*Math.pow(r,u++);n.push(o)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.transfer=n},function(e,t){"use strict";function n(e,t){var n=[];parseInt(t)&&(n.length=parseInt(t));for(var r=0,i=e.length;r<i;r+=2)n[e[r]]=e[r+1];return n=n.join("|").split("|").map(function(e){return parseInt(e)||0}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.unzip=n},function(e,t){"use strict";function i(e){return e>=10?e:"0"+e}function s(e){if(typeof e=="number"){var t=(new Date).getDate(),s=new Date((new Date).setDate(t-e)),o=new Date((new Date).setDate(t-1));n=s.getFullYear()+i(s.getMonth()+1)+i(s.getDate()),r=o.getFullYear()+i(o.getMonth()+1)+i(o.getDate())}else{var u=e.split("|"),a=u[0],f=u[1];a.length===6?n=a.substring(0,4)+a.substring(4)+"01":n=a,f.length===6?(f=new Date(Math.min(+(new Date(f.substring(0,4),f.substring(4),0)),(new Date).setDate((new Date).getDate()-1))),r=f.getFullYear()+i(f.getMonth()+1)+i(f.getDate())):r=f}return{from:n,to:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.timefix=i,t.time2date=s;var n=void 0,r=void 0},,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={local:!1,session:!1};try{n.local=!!window.localStorage,n.session=!!window.sessionStorage}catch(r){n.local=!1,n.session=!1}if(n.local)try{window.localStorage.setItem("test","1");var i=window.localStorage.getItem("test");window.localStorage.removeItem("test");if(i!=="1")throw"get error"}catch(r){n.local=!1}if(n.session)try{window.sessionStorage.setItem("test","1");var s=window.sessionStorage.getItem("test");window.sessionStorage.removeItem("test");if(s!=="1")throw"get error"}catch(r){n.session=!1}var o={getItem:function(t,r){return r=r==="session"?"session":"local",n[r]?window[r+"Storage"].getItem(t):""},setItem:function(t,r,i){i=i==="session"?"session":"local";if(n[i])try{window[i+"Storage"].setItem(t,r)}catch(s){window[i+"Storage"].clear(),window[i+"Storage"].setItem(t,r)}},removeItem:function(t,r){r=r==="session"?"session":"local",n[r]&&window[r+"Storage"].removeItem(t)},clear:function(t){t=t==="session"?"session":"local",n[t]&&window[t+"Storage"].clear()}};t.storage=o},,,,,,function(e,t){"use strict";function n(e){return(new Function("return "+e+";"))()}Object.defineProperty(t,"__esModule",{value:!0});var r={ruler_width:70,ruler_height:221,ruler_offsetx:-5,ruler_offsety:12,loading_height:159},i="2013-01-11",s=3,o=5,u=window,a=document,f=a.body,l=a.documentElement,c=document.getElementById("hotCates"),h=document.getElementById("initParam"),p=0,d=null;c&&(t.hotCates=d=n(c.innerHTML.replace(/^\s*|\s*$/g,""))||[{cate1:"\u4eba\u7269",list:["\u660e\u661f","\u7f51\u7ea2","\u540d\u5bb6"]},{cate1:"\u5a31\u4e50",list:["\u7535\u5f71","\u7535\u89c6\u5267","\u7efc\u827a","\u5c0f\u8bf4","\u6e38\u620f","\u52a8\u6f2b","\u4f53\u80b2","\u97f3\u4e50"]},{cate1:"\u6c7d\u8f66",list:[]},{cate1:"\u76f4\u64ad",list:["\u4e3b\u64ad","\u76f4\u64ad\u5e73\u53f0"]},{cate1:"\u5316\u5986\u54c1",list:[]},{cate1:"\u5962\u4f88\u54c1",list:[]},{cate1:"\u667a\u80fd\u7ec8\u7aef",list:["\u624b\u673a","\u667a\u80fd\u8bbe\u5907"]},{cate1:"\u9152\u7c7b",list:[]},{cate1:"\u7f51\u7ad9",list:[]},{cate1:"IP",list:[]}]),h&&h.getAttribute("data-https")&&(t.isHttps=p=Number(h.getAttribute("data-https"))),t.staticData=r,t.hotCates=d,t.isHttps=p,t.period_from=i,t.QUEUELEN=s,t.QUERYLEN=o,t.WIN=u,t.DOC=a,t.BODY=f,t.DOCELE=l},function(e,t,n){"use strict";function y(e){for(var t in h)if(h[t].indexOf(e)>-1)return e}Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.regionMap=t.dateMap=undefined;var r=n(36),i=n(10),s=30,o="\u5168\u56fd",u=new Date,a=2013,f=u.getFullYear(),l=u.getMonth()+1,c={},h={"A-G":["\u5b89\u5fbd","\u6fb3\u95e8","\u5317\u4eac","\u91cd\u5e86","\u798f\u5efa","\u7518\u8083","\u5e7f\u4e1c","\u5e7f\u897f","\u8d35\u5dde"],"H-J":["\u6d77\u5357","\u6cb3\u5317","\u6cb3\u5357","\u9ed1\u9f99\u6c5f","\u6e56\u5357","\u6e56\u5317","\u5409\u6797","\u6c5f\u82cf","\u6c5f\u897f"],"L-S":["\u8fbd\u5b81","\u5185\u8499\u53e4","\u5b81\u590f","\u9752\u6d77","\u5c71\u4e1c","\u5c71\u897f","\u9655\u897f","\u4e0a\u6d77","\u56db\u5ddd"],"T-Z":["\u53f0\u6e7e","\u5929\u6d25","\u4e91\u5357","\u897f\u85cf","\u9999\u6e2f","\u65b0\u7586","\u6d59\u6c5f"]},p={time:function(t){if(Number(t)===7||Number(t)===s)return Number(t);if(/\d{6,}\|\d{6,}/.test(t)){var n=t.split("|"),r=n[0].substr(0,6),i=r.substr(0,4),o=r.substr(4,2),u=n[1].substr(0,6),a=u.substr(0,4),f=u.substr(4,2);return c.hasOwnProperty(i)&&c[i].indexOf(o)>-1&&c.hasOwnProperty(a)&&c[a].indexOf(f)>-1?r>u?u+"|"+r:r+"|"+u:s}return s},region:function(t){return t===o||y(t)?t:o},query:function(t){var n=t.split(/[,\uff0c]/),s=[],o=0;n=n.map(function(e){return e.replace(/[<>'"\[\]\(\)\{\}]/g,"").trim()}).filter(function(e){return!!e}),n.forEach(function(e){e=e.replace(/^\+|\+$/g,""),s.indexOf(e)===-1&&s.push(e)}),s.length>r.QUERYLEN&&s.splice(r.QUERYLEN);for(var u=0,a=s.length;u<a;u++){if(o>=r.QUERYLEN){s.splice(u);break}var f=s[u];if(f.indexOf("+")>=0){var l=f.split("+").slice(0,r.QUEUELEN),c=[];for(var h=0,p=l.length;h<p;h++){var d=i(l[h].trim(),40);if(d&&c.indexOf(d)===-1){c.push(d),o++;if(o>=r.QUERYLEN)break}}s[u]=c.join("+")}else s[u]=i(s[u].trim(),40),o++}return s.join(",")}};for(var d=a,v=f;d<=v;d++){c[d]=[];var m=1,g=d===v?l:12;for(;m<=g;m++)c[d].push(m<10?"0"+m:""+m)}t.dateMap=c,t.regionMap=h,t.validate=p},,function(e,t,n){"use strict";var r=n(30),i=n(17),s=n(36),o=window.OnlySVG,u=n(40),a=n(43),f=n(45),l=n(10),c=n(42),h=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],p=15,d=36,v=35,m=77,g=15,y=864e5;o.fn.drawLine=function(e,t,n,o,b){var w=this,E=this.attr("width"),S=this.attr("height"),x=void 0,T=void 0,N=void 0,C=void 0,k=void 0,L=this.wrap.id.replace("_wrap",""),A=JSON.parse(r.storage.getItem(L+"DisableTag","session"))||[];e.mod=L,t?(this.clear(),x=this.createChild("g",{name:"grid"}),T=this.createChild("g",{name:"line"}),N=this.createChild("g",{name:"tags"}),k=this.createChild("g",{name:"hover"}),f(k,e,E,S,o,p),C=this.createChild("g",{name:"controller"}),a.call(this,C,e,E,S),this.trigger("$_clear_line")):(x=this.find("[name=grid]"),T=this.find("[name=line]"),N=this.find("[name=tags]"),C=this.find("[name=controller]"),k=this.find("[name=hover]"));var O=[],M=20;if(t&&b&&b.tagLabel){var _=b.tagLabel;N.createChild("text",{x:M,y:20,text:_}).css({"font-size":12,"font-family":"Microsoft Yahei","text-anchor":"start",fill:"#999"}),M=M+c(_)+20}var D=function(u,a){var f=e.data[u],p=f.query.split("+").map(function(e){return l(e,14,"...")}).join("+"),d=c(p);t&&(f.tag=N.createChild("text",{x:M+15,y:20,text:p}).css({"font-size":12,"font-family":"Microsoft Yahei","text-anchor":"start"}),f.ico=N.createChild("circle",{cx:M+5,cy:20,r:4}).css({stroke:"none"}),f.badcase||(f.data&&!f.unzip&&(f.data=(0,i.unzip)(f.data,Math.floor((+(new Date(e.duration.to))- +(new Date(e.duration.from)))/y/e.vstep)),f.unzip=!0),f.url=N.createChild("rect",{x:M,y:10,width:20+d,height:20,title:f.query}).css({cursor:"pointer",fill:"#000","fill-opacity":0,stroke:"none"}).on("mouseenter",function(){f.tag.css({fill:"#3bbd2e"})}).on("mouseleave",function(){f.disable?f.tag.css({fill:"#ccc"}):f.tag.css({fill:"#666"})}).on("click",function(){monitor.log({cId:L+"-linetoggle",c:f.query},"click"),f.disable=!f.disable,f.disable&&A.indexOf(f.query)===-1?A.push(f.query):!f.disable&&A.indexOf(f.query)>=0&&A.splice(A.indexOf(f.query),1),r.storage.setItem(L+"DisableTag",JSON.stringify(A),"session");for(var t=0,i=e.data.length;t<i;t++)if(!e.data[t].disable){N.trigger("$_redraw_line");return}n&&typeof n=="function"?w.drawLine(e,!0,n,o,b):w.drawLine(e,!0,null,o,b)})));var v=h[u],m="#333";f.disable&&(v="#999",m="#ccc"),f.tag.css({fill:m}),f.ico.css({fill:v}),M=M+c(p)+30;if(!f.data)return"continue";var g=T.find("[name='line_"+f.query+"']");g.length||(g=T.createChild("path",{d:"M0,0",name:"line_"+f.query}).css({fill:"none",stroke:h[u],"stroke-width":2})),f.disable?g.hide():(g.show(),O.push(f))};for(var P=0,H=e.data.length;P<H;P++){var B=D(P,H);if(B==="continue")continue}u(x,e,E,S,p);for(var j=0,F=O.length;j<F;j++){var I=O[j],q=void 0,R=[],U=I.data;e.vstep!==1?q=(E-g-m)/Math.floor((new Date(e.duration.to)-new Date(e.duration.from))/y/e.vstep):q=(E-g-m)/Math.max(I.data.length-1,1);for(var z=0,W=U.length;z<W;z++){var X=m+q*z,V=void 0,$=z<W-1,J=Number(U[z]);V=S-d-v-(s.staticData.ruler_height-s.staticData.ruler_offsety)+(s.staticData.ruler_height-s.staticData.ruler_offsety)*(1-J/100),R.length?(R.push(X-q/2,",",V," ",X,",",V),$&&R.push("S")):(R.push("M",m,",",V),e.duration.from===e.duration.to?R.push("L",E-g,",",V,","):R.push("C",m+q/2,",",V," "))}t?T.find("[name='line_"+I.query+"']").attr({d:R.join(""),"clip-path":"url(#lineClip"+L+")"}):T.find("[name='line_"+I.query+"']").animate({d:R.join("")},{duration:300,easing:"quad"})}if(t){var K=this.createChild("clipPath",{id:"lineClip"+L});K.createChild("rect",{x:77,y:0,width:0,height:S}).animate({width:E-77-15},{after:function(){K.remove()}})}return this.once("$_svg_resize",function(t){var r=t.customAttr.width;n&&typeof n=="function"?w.attr("width",r).clear().drawLine(e,!0,n,o,b):w.attr("width",r).clear().drawLine(e,!0,null,o,b)}),this.trigger("$_redraw_line",e),n&&typeof n=="function"&&n(C,N),this}},function(e,t,n){"use strict";var r=n(36),i=n(41),s=n(42),o=37,u=7,a=35,f=77,l=15;e.exports=function(e,t,n,c,h){var p=[],d=t.nocontroller?0:36,v=t.nocontroller&&t.location==="24hour"?{text:["0\u65f6","4\u65f6","8\u65f6","12\u65f6","16\u65f6","20\u65f6","24\u65f6"],size:[0,4/24,8/24,.5,16/24,20/24,1]}:i(t.duration,"grid");h=h||0,e.clear(),e.createChild("polyline",{points:f+","+(o+h)+" "+f+","+(c-a-d)+" "+(n-l)+","+(c-a-d)+" "+(n-l)+","+(o+h)},{fill:"none",stroke:"#f3f4f5"}),t.ruler&&e.createChild("image",{"xlink:href":t.ruler.body,x:f-r.staticData.ruler_width+r.staticData.ruler_offsetx,y:c-d-a-r.staticData.ruler_height+r.staticData.ruler_offsety,width:r.staticData.ruler_width,height:r.staticData.ruler_height});for(var m=0;m<7;m++)p.push("M",f,o+u+h+Math.round((c-h-o-u-a-d)*m/7),"H",n-l),t.ruler||e.createChild("text",{x:f-10,y:o+u+h+Math.round((c-h-o-u-a-d)*(6-m)/7),text:t.degree.from+t.degree.step*(m+1)}).css({fill:"#999","font-size":12,"font-family":"Microsoft Yahei","text-anchor":"end"});if(v.text.length>1)for(var g=0,y=v.text.length;g<y;g++){g>0&&p.push("M",f+(n-f-l)*v.size[g],o+h,"V",c-a-d);var b=f+(n-f-l)*v.size[g],w=s(v.text[g]),E=b+w/2>n-15?"end":"middle";e.createChild("text",{x:b,y:c-a-d+a/2,text:v.text[g]}).css({fill:"#999","font-family":"Microsoft Yahei","font-size":12,"text-anchor":E})}else p.push("M",n/2,o+h,"V",c-a-d),e.createChild("text",{x:n/2,y:c-a-d+a/2,text:v.text[0]}).css({fill:"#999","font-family":"Microsoft Yahei","font-size":12,"text-anchor":"middle"});return e.createChild("path",{d:p.join(",")}).css({stroke:"#eee","stroke-dasharray":"5,5"}),this}},function(e,t){"use strict";e.exports=function(e,t){var n=new Date(e.from),r=new Date(e.to),i=new Date(e.from),s=864e5;n.setHours(8,0,0,0),r.setHours(8,0,0,0),i.setHours(8,0,0,0);var o=Math.abs((r-n)/s),u=[],a=[],f=n.getTime(),l=r.getTime(),c=void 0,h=void 0;if(o<60){var p=Math.max(1,Math.round(o/6));for(var d=0;d<=o;d+=p){a.push(d/o),i.setTime(Math.min(f+s*d,l));if(t==="grid"){var v=i.getFullYear();v!==h?(h=v,u.push(v+"\u5e74"+(i.getMonth()+1)+"\u6708"+i.getDate()+"\u65e5")):u.push(i.getMonth()+1+"\u6708"+i.getDate()+"\u65e5")}else{var m=i.getMonth();m!==c?(c=m,m===0?u.push(i.getFullYear()+"\u5e74"+(i.getMonth()+1)+"\u6708"+i.getDate()+"\u65e5"):u.push(i.getMonth()+1+"\u6708"+i.getDate()+"\u65e5")):u.push(i.getDate()+"\u65e5")}}}else if(o<760){i.setTime(f);var g=!0,y=void 0,b=Math.max(1,Math.round(o/30/9));i.getDate()>15&&(i.setMonth(i.getMonth()+1),i.setDate(1));while(i.getTime()<=l){a.push((i.getTime()-f)/s/o);if(t==="grid"){var w=i.getFullYear();w!==y?(y=w,u.push(w+"\u5e74"+(i.getMonth()+1)+"\u6708")):u.push(i.getMonth()+1+"\u6708"),i.setMonth(i.getMonth()+b)}else g||i.getMonth()===0?(g=!1,u.push(i.getFullYear()+"\u5e74"+(i.getMonth()+1)+"\u6708")):u.push(i.getMonth()+1+"\u6708"),i.setMonth(i.getMonth()+b)}}else{i.setTime(f);var E=void 0,S=Math.max(1,Math.round(o/30/9));if(t==="timeline"){S===5?S=4:S>6&&S<12?S=6:S>12&&(S=12*Math.floor(S/12));var x=i.getMonth();x%S!==0&&(i.setMonth(x+S-x%S),i.setDate(1))}while(i.getTime()<=l){a.push((i.getTime()-f)/s/o);if(t==="grid")u.push(i.getFullYear()+"\u5e74"+(i.getMonth()+1)+"\u6708");else{var T=i.getFullYear();T!==E?(E=T,u.push(T+"\u5e74")):u.push("")}i.setMonth(i.getMonth()+S),i.setDate(1)}}return{from:n,to:r,text:u,size:a}}},function(e,t){"use strict";e.exports=function(e,t){var n=0,r=t||6;for(var i=e.length;i--;)e.charCodeAt(i)>255?n+=r*2:n+=r;return n}},function(e,t,n){"use strict";var r=n(44),i=[{date:7,text:"7\u5929"},{date:30,text:"30\u5929"},{date:90,text:"90\u5929"},{date:182,text:"\u534a\u5e74"},{date:365,text:"\u4e00\u5e74"},{date:0,text:"\u5168\u90e8"}];e.exports=function(e,t,n,s){r(e,t,n,s);var o=new Date(t.period.from),u=new Date(t.period.to),a=864e5,f=new Date(t.duration.from),l=new Date(t.duration.to);o.setHours(8,0,0,0),u.setHours(8,0,0,0),f.setHours(8,0,0,0),l.setHours(8,0,0,0);var c=o.getTime(),h=u.getTime(),p=f.getTime(),d=l.getTime(),v=Math.round((d-p)*(n-6)/(h-c)),m=Math.round((p-c)*(n-6)/(h-c))+3,g=Math.max(3,m),y=Math.min(v,n-6),b=void 0,w=void 0,E=void 0,S=e.createChild("g",{name:"nav"}),x=Math.round((d-p)/a),T=h===d;S.createChild("text",{text:"\u6700\u8fd1",x:n-315,y:20},{fill:"#999","font-size":12}),b=e.createChild("rect",{x:g,y:s-36,width:y,height:36}).css({cursor:"move",fill:"#19b453","fill-opacity":.1,stroke:"none"}).drag(function(e){var t=Math.min(n-3-this.attr("width"),Math.max(3,e.dx+this._x));this.attr({x:t}),w.attr({transform:"translate("+t+", "+(s-36)+")"}).data({x:t}),E.attr({transform:"translate("+(t+this.attr("width"))+", "+(s-36)+")"}).data({x:t+this.attr("width")})},function(e){this._x=this.attr("x")-e.dx},function(){var r=this.attr("width"),i=this.attr("x"),s=c+Math.round((i-3)/(n-6)*(h-c)),o=c+Math.round((r+i-3)/(n-6)*(h-c));t.duration={from:s,to:o},monitor.log({cId:t.mod+"-controller",c:"button"}),e.trigger("$_redraw_line"),S.find(".nav_cur").attr("class","nav").find("rect").css({fill:"#fff",stroke:"#e1e3e4"}).next().css({fill:"#999"})}),w=e.createChild("g",{transform:"translate("+g+", "+(s-36)+")"},{cursor:"e-resize",opacity:.6}).data({x:g}).drag(function(e){var t=Math.min(n-3,Math.max(3,e.dx)),r=parseInt(E.data("x"));this.attr({transform:"translate("+t+", "+(s-36)+")"}),b.attr({x:Math.min(t,r),width:Math.abs(t-r)})},null,function(){var r=b.attr("width"),i=b.attr("x");this.attr({transform:"translate("+i+", "+(s-36)+")"}).data({x:i}),E.attr({transform:"translate("+(i+r)+", "+(s-36)+")"}).data({x:i+r});var o=c+Math.round((i-3)/(n-6)*(h-c)),u=c+Math.round((r+i-3)/(n-6)*(h-c));t.duration={from:o,to:u},monitor.log({cId:t.mod+"-controller-left",c:"left"}),e.trigger("$_redraw_line"),S.find(".nav_cur").attr("class","nav").find("rect").css({fill:"#fff",stroke:"#e1e3e4"}).next().css({fill:"#999"})}).createChildren({type:"path",attr:{d:"M-3,3L0,0 3,3V33L0,36 -3,33Z"},css:{fill:"#19b453"}},{type:"rect",attr:{x:-2,y:13,width:4,height:2},css:{fill:"#edefef"}},{type:"rect",attr:{x:-2,y:21,width:4,height:2},css:{fill:"#edefef"}}),E=e.createChild("g",{transform:"translate("+(g+y)+", "+(s-36)+")"},{cursor:"e-resize",opacity:.6}).data({x:g+y}).drag(function(e){var t=Math.min(n-3,Math.max(3,e.dx)),r=parseInt(w.data("x"));this.attr({opacity:1,transform:"translate("+t+", "+(s-36)+")"}),b.attr({x:Math.min(t,r),width:Math.abs(t-r)})},null,function(){var r=b.attr("width"),i=b.attr("x");this.attr({opacity:.6,transform:"translate("+(i+r)+", "+(s-36)+")"}).data({x:i+r}),w.attr({transform:"translate("+i+", "+(s-36)+")"}).data({x:i});var o=c+Math.round((i-3)/(n-6)*(h-c)),u=c+Math.round((r+i-3)/(n-6)*(h-c));t.duration={from:o,to:u},monitor.log({cId:t.mod+"-controller-right",c:"right"}),e.trigger("$_redraw_line"),S.find(".nav_cur").attr("class","nav").find("rect").css({fill:"#fff",stroke:"#e1e3e4"}).next().css({fill:"#999"})}).on("mouseenter",function(){this.css("opacity",.8)}).on("mouseleave",function(){this.css("opacity",.6)}).createChildren({type:"path",attr:{d:"M-3,3L0,0 3,3V33L0,36 -3,33Z"},css:{fill:"#19b453"}},{type:"rect",attr:{x:-2,y:13,width:4,height:2},css:{fill:"#edefef"}},{type:"rect",attr:{x:-2,y:21,width:4,height:2},css:{fill:"#edefef"}});var N=function(o,u){var f=i[o],l=T&&x===f.date-1;f.date===0&&p===c&&d===h&&(l=!0);var v=S.createChild("g",{cursor:"pointer","class":"nav"+(l?" nav_cur":"")}).createChildren({type:"rect",attr:{x:n-280+o*46,y:11,width:36,height:18,rx:2,ry:2},css:{fill:"#fff",stroke:"#e1e3e4"}},{type:"text",attr:{x:n-280+o*46+18,y:20,text:f.text},css:{fill:"#999","text-anchor":"middle"}}).on("click",function(){if(this.attr("class").indexOf("nav_cur")!==-1)return;S.find(".nav_cur").attr("class","nav").find("rect").css({fill:"#fff",stroke:"#e1e3e4"}).next().css({fill:"#999"}),this.attr("class","nav nav_cur").find("rect").css({fill:"#19b955",stroke:"#19b955"}).next().css({fill:"#fff"});var r=h-a*(f.date-1);f.date===0&&(r=c),t.duration={to:h,from:r};var i=Math.round((h-r)*(n-6)/(h-c)),o=Math.round((r-c)*(n-6)/(h-c))+3,u=Math.max(3,o),l=Math.min(i,n-6);w.attr({transform:"translate("+u+", "+(s-36)+")"}),b.attr({x:u,width:l}),E.attr({transform:"translate("+(u+l)+", "+(s-36)+")"}),monitor.log({cId:t.mod+"-timetab",c:f.date}),e.trigger("$_redraw_line")});l&&v.find("rect").css({fill:"#19b955",stroke:"#19b955"}).next().css({fill:"#fff"})};for(var C=0,k=i.length;C<k;C++)N(C,k);return this}},function(e,t,n){"use strict";var r=n(41),i=n(42);e.exports=function(e,t,n,s){var o=r(t.period,"timeline");e.createChild("rect",{x:0,y:s-36,width:n,height:36}).css({fill:"#f2f3f3",stroke:"none"});var u=e.createChild("g"),a=[];for(var f=0,l=o.text.length;f<l;f++)if(o.text[f]){var c=6+(n-6)*o.size[f],h=i(o.text[f]),p=u.createChild("text",{x:c,y:s-18,text:o.text[f]}).css({fill:"#999","font-family":"Microsoft Yahei","text-anchor":"start","font-size":12});c>n-h&&p.remove(),o.text[f].length<4?a.push("M",3+(n-6)*o.size[f],s-24,"V",s-12):a.push("M",3+(n-6)*o.size[f],s-30,"V",s-6)}else a.push("M",3+(n-6)*o.size[f],s-24,"V",s-12);return e.createChild("path",{d:a.join(",")}).css({stroke:"#dfe2e1","stroke-width":2}),this}},function(e,t,n){"use strict";var r=n(30),i=n(36),s=n(10),o=n(42),u=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],a=40,f=35,l=77,c=15,h=25,p=function(t,n){for(var r in t)n.style[r]=t[r]};e.exports=function(e,t,n,d,v,m){var g=864e5,y=240,b=e.createChild("path",{d:"M0,0"}).css({stroke:"#c3c3c3"}),w=e.paper.createChild("g",{name:"hoverlayer"}),E=e.createChild("g"),S=e.createChild("g"),x=t.nocontroller?0:36,T=null,N=JSON.parse(r.storage.getItem(t.mod+"DisableTag","session"))||[],C=document.getElementById(t.mod+"_wrap"),k=C.querySelector(".hoverInfoCon");m=m||0,S.createChildren({type:"rect",attr:{x:-40,y:d-f/2-x-8,width:80,height:16,rx:1,ry:1},css:{display:"none",fill:"#e7f6e6"}},{type:"text",attr:{text:"",x:0,y:d-f/2-x},css:{display:"none","font-size":12,fill:"#70c08d","text-anchor":"middle"}});for(var L=0,A=t.data.length;L<A;L++){var O=t.data[L];E.createChild("circle",{cx:0,cy:0,r:6}).css({display:"none",fill:u[L],"fill-opacity":.5,stroke:"none"}).data({q:O.query}),E.createChild("circle",{cx:0,cy:0,r:2}).css({display:"none",fill:"#fff",stroke:"none"}).data({q:O.query})}var M=0,_=0,D=0;return e.createChild("rect",{x:77,y:40,width:n-77-15,height:d-40-35-x}).css({fill:"#000","fill-opacity":0,stroke:"none"}).on("mouseenter",function(){M=0,window.clearTimeout(T);for(var e=0,n=t.data.length;e<n;e++){var r=t.data[e];r.disable||M++}M!==0&&b.show()}).on("mouseleave",function(){_=0,D=0,window.clearTimeout(T),E.children().hide(),S.children().hide(),b.hide(),p({left:0,top:0,height:0,display:"none"},k),k.innerHTML=""}).on("mousemove",function(e){if(M===0)return!1;var r=new Date(t.duration.from),u=new Date(t.duration.to);r.setHours(8,0,0,0),u.setHours(8,0,0,0);var C=r.getTime(),L=u.getTime(),A=e.dx,O=e.dy,P=C+Math.floor((A-l)*(L-C)/(n-l-c)),H=new Date(P);H.setHours(8,0,0,0);var B=H.getTime(),j=void 0;L===C?j=n/2:t.vstep!==1?j=l+Math.floor((B-C)/g/t.vstep)*(n-l-c)/Math.floor((L-C)/g/t.vstep):j=l+(B-C)*(n-l-c)/(L-C);var F=A>n/2?Math.min(A,n)-y-40:A+40,I=Math.min(O,d-x-f)*(d-x-f-parseInt(k.style.height))/d,q=[H.getFullYear(),H.getMonth()+1,H.getDate()].join("-");if(t.vstep!==1){var R=Math.floor((B-C)/g/t.vstep)*g*t.vstep+C,U=new Date(R),z=new Date(R+(t.vstep-1)*g);q=[U.getFullYear(),"-",U.getMonth()+1,"-",U.getDate()," ~ ",z.getFullYear(),"-",z.getMonth()+1,"-",z.getDate()," \u5747\u503c"].join("")}p({left:F+"px",top:I+"px"},k);var W=o(q)+18,X="middle",V=0;j>=n-c-W/2?(X="end",V=6-W/2):j<=W/2&&(X="start",V=W/2-6),S.attr({transform:"translate("+j+", 0)"}).children().show().filter("rect").attr({x:V-W/2,width:W}).next().attr({text:q,"text-anchor":X}),b.attr({d:["M",j,a+m,"V",d-f-x].join(",")});var $=Math.floor((B-C)/g),J=function(n,r){var s=t.data[n];if(!s.disable){var o=Number(s.data[$])||0;t.vstep!==1&&(o=Number(s.data[Math.floor($/t.vstep)])||0);var u=d-x-f-(i.staticData.ruler_height-i.staticData.ruler_offsety)+(i.staticData.ruler_height-i.staticData.ruler_offsety)*(1-o/100);E.children().each(function(){this.data("q")===s.query&&this.show().attr({transform:"translate("+j+","+u+")"})})}};for(var K=0,Q=t.data.length;K<Q;K++)J(K,Q);D=$+1,t.vstep!==1&&(D=Math.floor($/t.vstep)+1),D!==_&&(_=D,window.clearTimeout(T),T=window.setTimeout(function(){if(!v.keywordslist)return;p({height:M*h+"px",display:"block"},k),k.innerHTML='<div class="tip" style="line-height:'+M*h+'px;">\u52a0\u8f7d\u4e2d</div>',v.$http.post("/index/csssprite?q="+i.WIN.encodeURIComponent(v.keywordslist.join(","))+"&area="+(/^trend/.test(t.mod)?v.trend_region||"\u5168\u56fd":"\u5168\u56fd")+"&from="+t.duration.from.split("-").join("")+"&to="+t.duration.to.split("-").join("")+"&click="+D+"&t="+(/^trend/.test(t.mod)?"index":t.mod)+(v.tk?"&tk="+v.tk:""),{before:function(t){this.spriteRequest&&this.spriteRequest.abort(),this.spriteRequest=t}}).then(function(e){if(e.body&&e.body.status===0&&e.body.data){var n=e.body.data,r="";for(var i=0,o=t.data.length;i<o;i++){var u=t.data[i].query;if(n[u]&&n[u].css&&n[u].img){r||(r+='<ul class="list">');if(N.indexOf(u)>=0){r+="<li></li>";continue}var a=u.split("+").map(function(e){return s(e,8,"...")}).join("+");r+='<li><div class="tit">'+a+'</div><div class="num" data-img="'+n[u].img+'">'+n[u].css+"</div></li>"}}if(r){r+="</ul>",k.innerHTML=r;var f=k.querySelectorAll("span"),l=0,c=f.length;for(;l<c;l++)p({backgroundImage:"url("+f[l].parentNode.getAttribute("data-img")+")",height:h+"px"},f[l])}}else k.innerHTML='<div class="tip" style="line-height:'+M*h+'px;">\u6682\u65e0\u6570\u636e</div>'},function(){k.innerHTML='<div class="tip" style="line-height:'+M*h+'px;">\u6682\u65e0\u6570\u636e</div>'})},400)),w.toTop()}),this}},function(e,t,n){"use strict";var r=window.OnlySVG,i=n(40),s=n(47),o=n(10),u=n(42),a=n(49),f=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],l=40,c=7,h=35,p=77,d=15;r.fn.draw24h=function(e,t){var n=this,r=this.attr("width"),v=this.attr("height"),m=void 0,g=void 0,y=void 0,b=void 0;e.nocontroller=!0,e.location="24hour",t?(this.clear(),m=this.createChild("g",{name:"grid"}),g=this.createChild("g",{name:"line"}),y=this.createChild("g",{name:"tags"}),b=this.createChild("g",{name:"hover"}),s(b,e,r,v)):(m=this.find("[name=grid]"),g=this.find("[name=line]"),y=this.find("[name=tags]"),b=this.find("[name=hover]"));var w=[],E=null,S=null,x=0,T=24,N=20,C=function(i,s){var a=e.data[i],l=a.query.split("+").map(function(e){return o(e,14,"...")}).join("+"),c=u(l);t&&(a.tag=y.createChild("text",{x:N+15,y:20,text:l}).css({"font-size":12,"font-family":"Microsoft Yahei","text-anchor":"start"}),a.ico=y.createChild("circle",{cx:N+5,cy:20,r:4}).css({stroke:"none"}),a.data&&(a.url=y.createChild("rect",{x:N,y:10,width:20+c,height:20,title:a.query}).css({cursor:"pointer",fill:"#000","fill-opacity":0,stroke:"none"}).on("mouseenter",function(){a.tag.css({fill:"#3bbd2e"})}).on("mouseleave",function(){a.disable?a.tag.css({fill:"#ccc"}):a.tag.css({fill:"#666"})}).on("click",function(){monitor.log({cId:"24h-linetoggle"},"click"),a.disable=!a.disable,n.draw24h(e)})));var h=f[i],p="#333";a.disable&&(h="#999",p="#ccc"),a.tag.css({fill:p}),a.ico.css({fill:h}),N=N+u(l)+30;if(!a.data)return"continue";var d=g.find("[name='line_"+a.query+"']");d.length||(d=g.createChild("path",{d:"M0,0",name:"line_"+a.query}).css({fill:"none",stroke:f[i],"stroke-width":2}));if(a.disable)d.hide();else{d.show(),w.push(a);for(var v=x;v<=T;v++){var m=parseFloat(a.data[v]);if(E===null||E<m)E=m;if(S===null||S>m)S=m}}};for(var k=0,L=e.data.length;k<L;k++){var A=C(k,L);if(A==="continue")continue}e.degree=a(E,S),i(m,e,r,v);for(var O=0,M=w.length;O<M;O++){var _=w[O],D=(r-d-p)/Math.max(T-x,1),P=[],H=void 0,B=void 0;for(var j=x;j<=T;j++){var F=p+D*(j-x),I=void 0,q=j<=T-1;if(B)I=B;else{var R=parseFloat(_.data[j])||0,U=(R-e.degree.from)*(v-l-c-h)/e.degree.step/7;I=v-h-U}if(q){var z=parseFloat(_.data[j+1])||0,W=(z-e.degree.from)*(v-l-c-h)/e.degree.step/7;B=v-h-W}P.length?(P.push(F-D/3,",",I+(H-B)/6," ",F,",",I),q&&P.push("S")):(P.push("M",p,",",I),T===x?P.push("L",r-d,",",I,","):P.push("C",p+D/3,",",I," ")),H=I}t?g.find("[name='line_"+_.query+"']").attr({d:P.join(""),"clip-path":"url(#lineClip)"}):g.find("[name='line_"+_.query+"']").animate({d:P.join("")},{duration:300,easing:"quad"})}if(t){var X=this.createChild("clipPath",{id:"lineClip"});X.createChild("rect",{x:77,y:0,width:0,height:v}).animate({width:r-77-15},{after:function(){X.remove()}})}return this.once("$_svg_resize",function(t){var r=t.customAttr.width;n.attr("width",r).clear().draw24h(e,!0)}),this}},function(e,t,n){"use strict";var r=n(10),i=n(48),s=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],o=40,u=7,a=35,f=77,l=15;e.exports=function(e,t,n,c){var h=240,p=e.createChild("path",{d:"M0,0"}).css({stroke:"#c3c3c3"}),d=e.createChild("g"),v=e.createChild("g"),m=e.createChild("g"),g=e.createChild("g");v.createChildren({type:"rect",attr:{x:1,y:1,rx:2,ry:2,width:h+2,height:0,"data-type":"shadow"},css:{display:"none",fill:"#b7c9bd","fill-opacity":.15,stroke:"none"}},{type:"rect",attr:{x:0,y:0,rx:2,ry:2,width:h,height:0,"data-type":"bg"},css:{display:"none",fill:"#fafefc",stroke:"#b0e7c4","stroke-opacity":.4}}),g.createChildren({type:"rect",attr:{x:-18,y:c-a/2-8,width:36,height:16,rx:1,ry:1},css:{display:"none",fill:"#e7f6e6"}},{type:"text",attr:{text:"",x:0,y:c-a/2},css:{display:"none","font-size":12,fill:"#70c08d","text-anchor":"middle"}});for(var y=0,b=t.data.length;y<b;y++){var w=t.data[y];w.data&&w.data.length<25&&(w.data[24]=w.data[0]),m.createChildren({type:"circle",attr:{cx:15,cy:15,r:5},css:{display:"none",fill:s[y],stroke:"none"},data:{q:w.query}},{type:"text",attr:{x:24,y:15,text:w.query.split("+").map(function(e){return r(e,8,"...")}).join("+")},css:{display:"none",fill:"#999","font-family":"Microsoft Yahei","font-size":12,"text-anchor":"start"},data:{q:w.query}},{type:"text",attr:{x:h-10,y:15,text:0},css:{display:"none",fill:"#999","font-family":"Microsoft Yahei","font-size":12,"text-anchor":"end"},data:{q:w.query,type:"num"}}),d.createChild("circle",{cx:0,cy:0,r:6}).css({display:"none",fill:s[y],"fill-opacity":.5,stroke:"none"}).data({q:w.query}
),d.createChild("circle",{cx:0,cy:0,r:2}).css({display:"none",fill:"#fff",stroke:"none"}).data({q:w.query})}var E=0;return e.createChild("rect",{x:77,y:40,width:n-77-15,height:c-40-35}).css({fill:"#000","fill-opacity":0,stroke:"none"}).on("mouseenter",function(){E=0;for(var e=0,n=t.data.length;e<n;e++){var r=t.data[e];r.disable||E++}E!==0&&(v.children().show().filter("[data-type=bg]").attr({height:10+E*25}).prev().css({height:12+E*25}),p.show())}).on("mouseleave",function(){v.children().hide(),m.children().hide(),d.children().hide(),g.children().hide(),p.hide()}).on("mousemove",function(e){if(E===0)return!1;var r=0,s=e.dx,y=e.dy,b=Math.round((s-f)*24/(n-f-l)),w=f+b*(n-f-l)/24,S=s>n/2?Math.min(s,n)-h-40:s+40,x=Math.min(y,c-a)*(c-a-parseInt(v.find("[data-type=bg]").attr("height")))/c,T=b+"\u65f6";v.attr({transform:"translate("+S+", "+x+")"}).children().show(),g.attr({transform:"translate("+w+",0)"}).children().show().filter("text").attr({text:T}),p.attr({d:["M",w,o,"V",c-a].join(",")});var N=0,C=function(n,s){var f=t.data[n];if(!f.disable){var l=Number(f.data[r+b])||0,h=(l-t.degree.from)*(c-o-u-a)/t.degree.step/7;d.children().each(function(){this.data("q")===f.query&&this.show().attr({transform:"translate("+w+","+(c-a-h)+")"})}),m.children().each(function(){this.data("q")===f.query&&(this.show().attr({transform:"translate("+S+","+(x+5+N*25)+")"}),this.data("type")==="num"&&this.attr({text:i(Math.floor(l))}))}),N++}};for(var k=0,L=t.data.length;k<L;k++)C(k,L)}),this}},function(e,t){"use strict";e.exports=function(e){var t=e.toString(),n=[],r=0,i="";t.length>=10&&(t.length<12?(r=4,i="\u4e07"):(r=8,i="\u4ebf"));for(var s=t.length-r;s>0;s-=3)n.unshift(t.substring(s-3,s));return n.join(",")+i}},function(e,t){"use strict";function n(e,t,n){var r=Math.ceil((e+t)/2/n)*n,i=Math.max(Math.ceil((e-t)/6/n)*n,n);return{from:Math.max(r-i*4,0),step:i}}e.exports=function(e,t){return e<100?{from:0,step:Math.max(1,Math.ceil(e/7))}:e<1e3?n(e,t,10):e<5e4?n(e,t,100):e<5e5?n(e,t,1e3):n(e,t,1e4)}},function(e,t){"use strict";var n=window.OnlySVG,r="#a1e3a3";n.fn.drawLoading=function(){var e=this,t=this.attr("width"),n=this.attr("height"),i=6,s=9,o=t/2-35,u=n/2,a="";for(var f=0;f<6;f++){var l=Math.cos(f*60*Math.PI/180),c=Math.sin(f*60*Math.PI/180),h=Math.cos((f*60+45)*Math.PI/180),p=Math.sin((f*60+45)*Math.PI/180);a+="M"+i*l+","+i*c+"L"+s*l+","+s*c+"A"+s+","+s+" 0 0 1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 0 0 "+i*l+","+i*c+"Z"}return this.createChild("path",{d:a,transform:"translate("+o+","+u+")"},{fill:r,opacity:.8}).animate({transform:"translate("+o+","+u+") rotate(120)"},{loop:0}),this.createChild("text",{x:t/2-20,y:n/2,text:"\u6b63\u5728\u52a0\u8f7d\u6570\u636e..."},{fill:"#666","text-anchor":"start"}),this.once("$_svg_resize",function(t){var n=t.customAttr.width;e.attr("width",n).clear().drawLoading()}),this}},function(e,t){"use strict";var n=window.OnlySVG;n.fn.drawNoData=function(){var e=this,t=this.attr("width"),n=this.attr("height");return this.createChild("text",{x:t/2,y:n/2,text:"\u6682\u65e0\u6570\u636e"},{fill:"#666","text-anchor":"middle"}),this.once("$_svg_resize",function(t){var n=t.customAttr.width;e.attr("width",n).clear().drawNoData()}),this}},function(e,t,n){"use strict";var r=n(17),i=n(36),s=n(53),o=window.OnlySVG,u=n(10),a=n(42),f=n(54),l=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],c=36,h=40,p=35,d=77,v=15,m=864e5,g=188,y=180,b=["A","B","C","D","E","F","G","H","I","J"];o.fn.drawTop=function(e,t){var n=this;this.find("[name=top]").remove();var o=null,w=this.createChild("g",{name:"top"}),E=this.attr("width"),S=this.attr("height"),x=new Date(t.period.from);x.setHours(8,0,0,0);var T=function(){w.find("[name=dialog]").remove()},N=function(n,r){w.find("[name=dialog]").remove();var i=r.x+r.width/2,l=r.y+r.height/2,p=i>E/2,d=p?-g-15:25,v=w.createChild("g",{name:"dialog"}),m=0;v.createChildren({type:"path",attr:{d:"M0,0"},css:{fill:"#b7c9bd","fill-opacity":.15,stroke:"none"}},{type:"path",attr:{d:"M0,0"},css:{fill:"#fafefc",stroke:"#b0e7c4","stroke-opacity":.4}}).on("mouseenter",function(){clearTimeout(o)}).on("mouseleave",function(){o=setTimeout(T,100)});if(n.relate_query&&n.relate_query.length){v.createChild("text",{x:0,y:0,text:"top\u5173\u952e\u8bcd"}),m+=24;var b=0,x=function(r,i){var o=u(f(n.relate_query[r]),28,"..."),l=a(o);b+l>g&&(m+=22,b=0),v.createChild("text",{x:b,y:m,text:o,title:n.relate_query[r]},{cursor:"pointer",fill:"#999"}).on("click",function(){monitor.log({cId:t.mod+"-relatequery",c:n.relate_query[r]},"click"),window.open(s.SEARCH_URL.replace("%query%",encodeURIComponent(o)))}).on("mouseenter",function(){this.css("fill","#19b955")}).on("mouseleave",function(){this.css("fill","#999")}),b+=l+24};for(var N=0,C=n.relate_query.length;N<C;N++)x(N,C);m+=24}if(n.news&&n.news.length){v.createChild("text",{x:0,y:m,text:"top\u70b9\u51fa\u94fe\u63a5"}),m+=24;var k=function(r,i){v.createChild("text",{x:0,y:m,text:u(f(n.news[r].title),28,"..."),title:f(n.news[r].title)},{cursor:"pointer",fill:"#999"}).on("click",function(){monitor.log({cId:t.mod+"-news",c:n.news[r].title},"click"),window.open(n.news[r].url)}).on("mouseenter",function(){this.css("fill","#19b955")}).on("mouseleave",function(){this.css("fill","#999")}),m+=22;if(m>=y)return"break"};for(var N=0,C=n.news.length;N<C;N++){var L=k(N,C);if(L==="break")break}}var A="M-9,-14",O="M-10,-15",M=i+d,_=Math.min(Math.max(l-30,h+5),S-c-m);p?(A+="H"+(g+3)+"V"+(l-5-_+1)+"L"+(g+5+3)+","+(l-_+1)+" "+(g+3)+","+(l+5-_+1)+"V"+(m+3)+"H-9Z",O+="H"+g+"V"+(l-5-_)+"L"+(g+5)+","+(l-_)+" "+g+","+(l+5-_)+"V"+m+"H-10Z"):(A+="V"+(l-5-_+1)+"L-14,"+(l-_+1)+" -9,"+(l+5-_+1)+"V"+(m+3)+"H"+(g+3)+"V-14Z",O+="V"+(l-5-_)+"L-15,"+(l-_)+" -10,"+(l+5-_)+"V"+m+"H"+g+"V-15Z"),v.attr({transform:"translate("+M+", "+_+")"}).children().eq(0).attr({d:A}).next().attr({d:O})},C=function(){var s=new Date(t.duration.from),u=new Date(t.duration.to);s.setHours(8,0,0,0),u.setHours(8,0,0,0);var a=s.getTime(),f=u.getTime();for(var h=0,g=e.length;h<g;h++){var y=void 0,x=void 0,C=-E,k=0;for(var L=0,A=t.data.length;L<A;L++)if(t.data[L].query===e[h].query){y=t.data[L],y.data&&(y.unzip||(y.data=(0,r.unzip)(y.data,Math.floor((+(new Date(t.duration.to))- +(new Date(t.duration.from)))/m/t.vstep)),y.unzip=!0)),x=l[L];break}if(!y||y.disable||!y.data)continue;var O=function(r,s){var u=e[h].data[r],l=new Date(u.date);l.setHours(8,0,0,0);var g=l.getTime();if(g<=a||g>=f||u.news.length===0&&u.relate_query.length===0)return"continue";var L=void 0,A=Math.floor((g-a)/m);t.vstep!==1?L=d+Math.floor((g-a)/m/t.vstep)*(E-d-v)/Math.floor((f-a)/m/t.vstep):L=d+(g-a)*(E-d-v)/(f-a);if(L-C<30)return"continue";C=L;var O=Number(y.data[A])||0;t.vstep!==1&&(O=Number(y.data[Math.floor(A/t.vstep)])||0);var M=S-c-p-(i.staticData.ruler_height-i.staticData.ruler_offsety)+(i.staticData.ruler_height-i.staticData.ruler_offsety)*(1-O/100),_=M-20,D=b[k++];w.createChild("g",{transform:"translate("+L+", "+_+")"}).on("click",function(){}).on("mouseenter",function(){this.find("rect").show(),clearTimeout(o),N(u,this.getBBox())}).on("mouseleave",function(){this.find("rect").hide(),o=setTimeout(T,100)}).createChildren({type:"rect",attr:{x:-7,y:0,width:14,height:16},css:{display:"none",fill:x,"fill-opacity":.2}},{type:"text",attr:{x:0,y:8,text:D},css:{cursor:"pointer",fill:x,"font-size":12,"text-anchor":"middle"}});if(k===b.length)return"break"};e:for(var M=0,_=e[h].data.length;M<_;M++){var D=O(M,_);switch(D){case"continue":continue;case"break":break e}}}};return C(),this.off("$_redraw_line.top").on("$_redraw_line.top",function(){n.drawTop(e,t)}),this.find('[name="hover"]').off("mousedown.top").on("mousedown.top",function(){w.find("[name=dialog]").remove()}),this.once("$_clear_line",function(){n.drawTop(e,t)}),this}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=180,r=437,i=360,s=360,o=336,u=285,a=580,f="https://www.so.com/s?q=%query%&src=zhishu";t.LOADING_HEIGHT=n,t.AGE_HEIGHT=i,t.AREA_HEIGHT=r,t.LOCATION_HEIGHT=s,t.TREND_HEIGHT=o,t.HOURS_HEIGHT=u,t.DSTR_HEIGHT=a,t.SEARCH_URL=f},function(e,t){"use strict";e.exports=function(e){var t=document.createElement("span");return t.innerHTML=e,t.textContent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Region=undefined;var r=n(37),i=1,s=Vue.extend({template:'<div class="region" data-modsign="{{modsign}}" v-bind:style="{ zIndex : zindex }">\n			<div class="cur" v-bind:class="{active : show}">{{region}}</div>\n			<div class="con" v-show="show">\n				<div class="all"><a href="javascript:void(0)" v-bind:class="{current : region === \'\u5168\u56fd\'}" data-region="\u5168\u56fd">\u5168\u56fd</a></div>\n				<div class="list">\n					<dl v-for="list in regionMap">\n						<dt>{{$key}}</dt>\n						<dd>\n							<a href="javascript:void(0)" v-for="a in list"  v-bind:class="{current : region === a}" data-region="{{a}}">{{a}}</a>\n						</dd>\n					</dl>\n				<div>\n			</div>\n		</div>',data:function(){return{show:!1,zindex:1,regionMap:r.regionMap}},props:["modsign","region"],methods:{toggle:function(t){var n=void 0,s=void 0,o=void 0;while(t!==document.body){t.getAttribute&&(t.getAttribute("data-modsign")&&(n=t.getAttribute("data-modsign")),t.className&&t.className.trim&&/(\s+|^)cur(\s+|$)/.test(t.className.trim())&&(s=!0),t.getAttribute("data-region")&&(o=r.validate.region(t.getAttribute("data-region").trim())));if(!t.parentNode)break;t=t.parentNode}n&&n===this.modsign?(s?this.show||(i++,this.zindex=i):o&&this.$dispatch("regionChange",n,o),this.show=!this.show):this.show&&(this.show=!this.show)}},events:{proxyClick:function(t){this.toggle(t.target)}}});t.Region=s},,function(e,t,n){"use strict";var r=n(53),i=window.OnlySVG,s=n(10),o=n(42),u=n(58),a=i.effects.link,f=function(t,n,r,i,s,u){var a=o(i);t.createChildren({type:"text",attr:{x:n-a*s/12/2,y:-1,text:i},css:{"alignment-baseline":"central","font-size":s,"font-family":"Microsoft Yahei",fill:"none",stroke:"#fff","stroke-width":10}},{type:"text",attr:{x:n-a*s/12/2,y:-1,text:i},css:{"alignment-baseline":"central","font-size":s,"font-family":"Microsoft Yahei",fill:u}},{type:"circle",attr:{cx:-n-2-a*s/12/2,cy:0,r:n},css:{fill:r,stroke:r,"stroke-width":0,"stroke-opacity":.5}}).on("mouseenter",function(){var e=this.find("circle");e.stop().animate({},{loop:0,duration:1800,beforeloop:function(){e.css({"stroke-width":0,"stroke-opacity":.5})},progress:function(r){r.ease<.3?e.css({"stroke-width":r.ease/.3*n}):e.css({"stroke-width":(r.ease-.3)/.7*n+n,"stroke-opacity":.5-.5*(r.ease-.3)/.7})},afterloop:function(){e.data("stopanime")&&e.stop().removeData("stopanime")}}),this.find("text").css("fill","#19b955")}).on("mouseleave",function(){this.find("circle").data("stopanime",1),this.find("text").css("fill",u)})},l={up:"#19b955",down:"#c1e7eb"},c={up:"#999",down:"#e3e3e3"},h={up:"#b5cfcd",down:"#f3f3f3"},p=3;i.fn.drawDstrmap=function(e,t){var n=this,i=this.attr("width"),d=this.attr("height"),v=i/2,m=d/2,g=s(e.q,20,".."),y=this.createChild("g"),b=y.createChild("g",{cursor:"pointer",transform:"translate("+v+", "+m+")"}).on("click",function(){monitor.log({cId:"dstrmap",c:g},"click"),window.open(r.SEARCH_URL.replace("%query%",encodeURIComponent(g)))}),w=this.createChild("g");w.createChildren({type:"text",attr:{x:176,y:24,text:"\u6307\u6570\u9ad8\u4f4e"},css:{fill:"#999","font-size":12}},{type:"circle",attr:{cx:132,cy:24,r:3},css:{fill:"#19b955",stroke:"none"}},{type:"circle",attr:{cx:145.5,cy:24,r:4.5},css:{fill:"#19b955",stroke:"none"}},{type:"circle",attr:{cx:163,cy:24,r:7},css:{fill:"#19b955",stroke:"none"}}),f(b,9,"#19b955",g,20,"#19b955");var E=Math.min(25,e.list.length),S=e.list[0].power,x={},T=360/E,N=function(n){var g=e.list[n],w=u(g.power).toString().replace("0.",""),N=n*T,C=w.substr(-4)/1e4,k=w.substr(0,4)%T/3,L=(C*30%p>>0)+1,A=n===0?E-1:n-1,O=n===E-1?0:n+1;while(x[A]&&x[A]===L||x[O]&&x[O]===L)--L<=0&&(L=p);x[n]=L,C=(L-C/p)/p*.65+.3,N+=k;var M=Math.sin(N*Math.PI/180),_=Math.cos(N*Math.PI/180)*(i-40)*.5,D=M*d*.45,P=3+5*g.power/S,H=y.createChild("g",{cursor:"pointer",opacity:1,transform:"translate("+(_*C+i/2)+","+(D*C+d/2)+")"}).on("click",function(){monitor.log({cId:"dstrmap",c:g.src},"click"),window.open(r.SEARCH_URL.replace("%query%",encodeURIComponent(g.src)))}),B=s(g.query,20,"..."),j=Math.max(12,P*2-2);_>0&&(_-=o(B)*j/12+P*3+2),f(H,P,l.up,B,j,c.up),H.animate({opacity:0,transform:"translate("+v+","+m+")"},{delay:200+n*10,duration:800,easing:"back",direction:"from",after:function(){a.create(b.find("circle"),H.find("circle"),{stroke:h.up,"stroke-dasharray":"3 3"},{radial_a:18,radial_b:P+10,effect:"stroke",nolisten:!0})}})};for(var C=0;C<E;C++)N(C);b.animate({transform:"translate("+v+", "+m+") scale(0.01)"},{direction:"from",duration:1500,easing:"elastic"});var k=y.getBBox();return y.attr({transform:"translate("+((i-k.width)/2-k.x)+","+((d-k.height)/2-k.y)+")"}),this.once("$_svg_resize",function(r){var i=r.customAttr.width;n.attr("width",i).clear().drawDstrmap(e,t)}),this}},function(e,t){"use strict";e.exports=function(e){return(e*4096+150889)%714025/714025}},function(e,t){"use strict";function i(){var e=document.documentElement.clientWidth,t=void 0;e<=1230-r?t=840:e<=1440-r?t=1050:t=1260;if(n&&n!==t){var i=document.createEvent("CustomEvent");i.initEvent("svg_resize",!1,!1),i.width=t,window.dispatchEvent(i)}n=t}var n=void 0,r=0;window.addEventListener("resize",function(){i()}),i()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=Vue.extend({template:'\n			<dl class="queryselect">\n				<dd>\n					<p v-for="query in keywordslist" v-bind:class="{\'current\': curindex == $index}" v-on:click="setCurrentQuery($index)" title="{{query}}">{{cutStr(query, 10, \'...\')}}</p>\n				</dd>\n			</dl>',props:["keywordslist","curindex"],methods:{setCurrentQuery:function(t){this.$dispatch("CURRENT_QUERY",t),monitor.log({cId:this.$parent.$options.name+"-queryselect",c:this.keywordslist[t]},"click")},cutStr:r}});t.QuerySelect=i},,function(e,t,n){"use strict";var r=n(37),i=window.OnlySVG,s=n(49),o=[{entity:"01",name:"\u5317\u4eac"},{entity:"03",name:"\u5929\u6d25"},{entity:"14",name:"\u6cb3\u5317"},{entity:"16",name:"\u5c71\u897f"},{entity:"07",name:"\u5185\u8499\u53e4"},{entity:"17",name:"\u8fbd\u5b81"},{entity:"18",name:"\u5409\u6797"},{entity:"19",name:"\u9ed1\u9f99\u6c5f"},{entity:"02",name:"\u4e0a\u6d77"},{entity:"20",name:"\u6c5f\u82cf"},{entity:"21",name:"\u6d59\u6c5f"},{entity:"23",name:"\u5b89\u5fbd"},{entity:"24",name:"\u798f\u5efa"},{entity:"22",name:"\u6c5f\u897f"},{entity:"15",name:"\u5c71\u4e1c"},{entity:"13",name:"\u6cb3\u5357"},{entity:"08",name:"\u6e56\u5317"},{entity:"09",name:"\u6e56\u5357"},{entity:"10",name:"\u5e7f\u4e1c"},{entity:"11",name:"\u5e7f\u897f"},{entity:"12",name:"\u6d77\u5357"},{entity:"04",name:"\u91cd\u5e86"},{entity:"25",name:"\u56db\u5ddd"},{entity:"26",name:"\u8d35\u5dde"},{entity:"27",name:"\u4e91\u5357"},{entity:"05",name:"\u897f\u85cf"},{entity:"28",name:"\u9655\u897f"},{entity:"29",name:"\u7518\u8083"},{entity:"30",name:"\u9752\u6d77"},{entity:"31",name:"\u5b81\u590f"},{entity:"06",name:"\u65b0\u7586"},{entity:"32",name:"\u9999\u6e2f"},{entity:"33",name:"\u6fb3\u95e8"},{entity:"34",name:"\u53f0\u6e7e"}],u=7,a=60,f=7,l=12,c=80,h=15,p=function(t,n){for(var r in t)n.style[r]=t[r]},d=function(t,n,r,i,s,o,p,d){var v=[],m=0;t.clear(),t.createChild("polyline",{points:c+",0 "+c+","+(d-a)+" "+(p-h)+","+(d-a)+" "+(p-h)+",0"},{fill:"none",stroke:"#f3f4f5"});for(var g=0;g<u;g++)v.push("M",c,Math.round((d-l-a)*g/u)+l,"H",p-h),t.createChild("text",{x:c-10,y:Math.round((d-l-a)*(u-(g+1))/u)+l,text:s.from+s.step*(g+1)}).css({fill:"#999","font-size":12,"font-family":"Microsoft Yahei","text-anchor":"end"});var y="#999",b=function(r){m++,i!=="\u5168\u56fd"&&(r===i?y="#ffb500":y="#999"),t.createChild("text",{x:c+m*o-f,y:d-a+10,text:r.split("").join("\n"),name:r}).css({fill:y,"font-family":"Microsoft Yahei","font-size":12,width:14,cursor:"pointer"}).on("mouseenter",function(){n.find("[name="+r+"]").trigger("mouseenter")}).on("mouseleave",function(){n.find("[name="+r+"]").trigger("mouseleave")})};for(var w in r)b(w);t.createChild("path",{d:v.join(",")}).css({stroke:"#eee","stroke-dasharray":"5,5"}),t.on("barenter",function(e){var n=e.customAttr.name;t.find("[name="+n+"]").css("fill","#ff9600")}).on("barleave",function(e){var n=e.customAttr.name,r=i!=="\u5168\u56fd"?n===i?"#ffb500":"#999":"#999";t.find("[name="+n+"]").css("fill",r)})};i.fn.drawAreabar=function(e,t,n){var i=this,h=this.wrap.querySelector(".counter"),v=this.attr("width"),m=this.attr("height"),g=m-l-a,y={},b=35,w=0,E=void 0,S=void 0,x=(v-c)/(b+1),T=void 0,N=void 0;this.clear();for(var C=0,k=o.length;C<k;C++){var L=!1,A=o[C].name,O=o[C].entity;for(var M=0,_=e.length;M<_;M++)if(e[M].entity+""===O){var D=Number(e[M].percent)||0;L=!0,D>w&&(w=D),y[A]=D;break}L||(y[A]=0)}T=this.createChild("g",{name:"grid"}),N=this.createChild("g",{name:"bar"}),E=s(w,0),S=E.from+E.step*u,d(T,N,y,t,E,x,v,m),N.clear();var P=0,H=10,B=N.createChild("clipPath",{id:"barClip"});B.createChild("rect",{x:0,y:0,width:v,height:m-a});var j=function(i){var s=void 0,o=void 0,u=void 0,a=void 0,d=void 0;y[i]!==0?(s=Math.max(Math.round(g*y[i]/S),1)+H,u=g+l-s+H):(s=0,u=g+l),t==="\u5168\u56fd"?(a="#ffb500",d=1):i===t?(a="#ffb500",d=1):(a="#f5f5f5",d=0),P++,o=c+P*x-f,N.createChild("rect",{x:o,y:u,width:f*2,height:s,rx:s-H>=f?f:0,ry:f,name:i,"clip-path":"url(#barClip)"}).css({fill:a,stroke:"none",cursor:"pointer"}).on("mouseenter",function(){d&&(this.css("fill","#ff9600"),h.innerHTML=y[i],h.style.display="block",p({display:"block",left:o-h.offsetWidth/2+f+"px",top:u-42+"px"},h),T.trigger("barenter",{name:i}))}).on("mouseleave",function(){d&&(this.css("fill","#ffb500"),h.innerHTML="",h.style.display="none",T.trigger("barleave",{name:i}))}).on("click",function(){var e=r.validate.region(this.attr("name").trim());e===t&&(e="\u5168\u56fd"),n.region=e})};for(var F in y)j(F);return this.off("$_svg_resize").once("$_svg_resize",function(n){var r=n.customAttr.width;i.attr("width",r).clear().drawAreabar(e,t)}),this}},function(e,t,n){"use strict";var r=window.OnlySVG,i=n(64),s=r.utils.Color,o=["#e96c65","#2d4454","#5a9aa2","#716f81","#89c1a8","#f2c966","#6bd492"],u=[70,50,80,100,90,120,100],a={"01":"18\u5c81\u53ca\u4ee5\u4e0b","02":"19-24\u5c81","03":"25-34\u5c81","04":"35-49\u5c81","05":"50\u5c81\u53ca\u4ee5\u4e0a"};r.fn.drawAge=function(e){var t=this,n=this.attr("width"),r=this.attr("height"),f=e.age,l=-90,c=this.createChild("g"),h=c.createChild("g"),p=c.createChild("g"),d=c.createChild("g");d.createChildren({type:"circle",attr:{cx:0,cy:0,r:38},css:{fill:"#f2f2f3"}},{type:"text",attr:{text:"\u5e74\u9f84\u5206\u5e03",x:0,y:0},css:{fill:"#999","font-family":"Microsoft Yahei","font-size":13,"text-anchor":"middle"}});var v=void 0,m=void 0;e.sex[0].entity==="01"?(v=parseFloat(e.sex[0].percent),m=100-v):(m=parseFloat(e.sex[0].percent),v=100-m);var g=0,y=function(t,c){var d=f[t],y=t===c-1?100-g:parseFloat(d.percent),b=y*360/100,w=l*Math.PI/180,E=(l+b)*Math.PI/180,S=(w+E)/2,x=b<180?0:1,T=u[t],N=o[t],C=(T+40+t%2*20)*Math.cos(S),k=(T+40+t%2*20)*Math.sin(S),L=a[f[t].entity]+" "+y+"%",A=h.find("text");A.each(function(){var e=this.attr("y");while(Math.abs(k-e)<20)e>r/2?k+=20:k-=20}),g+=y,h.createChild("polyline",{points:"0,0 "+C+","+k+","+(C<0?C-60:C+60)+","+k},{fill:"none",stroke:"#eaeaea"});var O=h.createChild("text",{text:L,x:C<0?C-65:C+65,y:k},{fill:"#999","font-family":"Microsoft Yahei","font-size":12,"text-anchor":C<0?"end":"start"}),M=void 0;c===1?M=p.createChild("circle",{cx:0,cy:0,r:70}):M=p.createChild("path",{d:"M0,0L"+T*Math.cos(w)+","+T*Math.sin(w)+"A"+T+","+T+" 0 "+x+",1 "+T*Math.cos(E)+","+T*Math.sin(E)+"Z",transform:""}),M.css({fill:o[t],cursor:"pointer"}).on("mouseenter",function(){var e=new s(N),t=e.getHSL();t.l+=(1-t.l)/4,e.setHSL(t),this.stop().animate({fill:e.toString(),transform:"scale(1.2)"},{easing:"elastic"}),O.css({fill:"#d3886b"});var o=50,u=50;d.sex.male?(o=parseFloat(d.sex.male),u=100-o):d.sex.female&&(u=parseFloat(d.sex.female),o=100-u),i(this.paper,o,u,n,r)}).on("mouseleave",function(){this.stop().animate({fill:N,transform:""},{duration:200,easing:"quad"}),O.css({fill:"#999"}),i(this.paper,v,m,n,r)}),l+=b};for(var b=0,w=f.length;b<w;b++)y(b,w);var E=c.getBBox();return c.attr("transform","translate("+n*.35+","+(r/2-E.height/2-E.y)+")"),i(this,v,m,n,r,E.width),this.once("$_svg_resize",function(n){var r=n.customAttr.width;t.attr("width",r).clear().drawAge(e)}),this}},function(e,t,n){"use strict";var r="#6bd492",i="#f2c966",s=n(42);e.exports=function(e,t,n,o,u){var a=parseFloat(t),f=parseFloat(n),l=e.find('[data-type="gender"]'),c=void 0,h=void 0,p=void 0,d=void 0;if(l.length)c=l.find('text[data-type="maletext"]'),h=l.find('text[data-type="femaletext"]'),p=l.find('rect[data-type="malerect"]'),d=l.find('rect[data-type="femalerect"]');else{l=e.createChild("g",{"data-type":"gender",transform:"translate("+o*.85+",0)"}),l.createChildren({type:"line",attr:{x1:-182,y1:u-48,x2:-78,y2:u-48},css:{stroke:"#eee"}},{type:"text",attr:{text:"\u6027\u522b\u6bd4\u4f8b",x:-182+(104-s("\u6027\u522b\u6bd4\u4f8b"))/2,y:u-36},css:{"alignment-baseline":"central",fill:"#999","font-size":12,"font-family":"Microsoft Yahei"}});var v=l.createChild("clipPath",{id:"rectClip"});v.createChild("rect",{x:-300,y:0,width:500,height:u-48}),c=l.createChild("text",{x:-163,y:u-49-18,text:"\u7537 0%","data-type":"maletext"},{"alignment-baseline":"central",fill:"#666","font-size":14,"font-family":"Microsoft Yahei","text-anchor":"middle"},{num:0}),h=l.createChild("text",{x:-96,y:u-49-18,text:"\u5973 0%","data-type":"femaletext"},{"alignment-baseline":"central",fill:"#666","font-size":14,"font-family":"Microsoft Yahei","text-anchor":"middle"},{num:0}),p=l.createChild("rect",{x:-182,y:u-48,width:37,height:8,rx:4,ry:4,"clip-path":"url(#rectClip)","data-type":"malerect"},{fill:r}),d=l.createChild("rect",{x:-115,y:u-48,width:37,height:8,rx:4,ry:4,"clip-path":"url(#rectClip)","data-type":"femalerect"},{fill:i})}var m=c.data("num"),g=h.data("num"),y=u-48-m*2,b=u-48-g*2;p.stop().animate({height:a*2+8,y:u-48-a*2},{duration:600,easing:"quad",progress:function(t){var n=Math.round(m+(a-m)*t.ease),r=Math.round(g+(f-g)*t.ease);c.attr({y:y-1-18-t.ease*(a-m)*2,text:"\u7537 "+n+"%"}).data({num:n}),h.attr({y:b-1-18-t.ease*(f-g)*2,text:"\u5973 "+r+"%"}).data({num:r}),d.attr({height:g*2+(f-g)*2*t.ease+8,y:b-(f-g)*2*t.ease})},after:function(){c.attr({y:u-48-1-18-a*2,text:"\u7537 "+a+"%"}).data({num:a}),h.attr({y:u-48-1-18-f*2,text:"\u5973 "+f+"%"}).data({num:f}),d.attr({height:f*2+8,y:u-48-f*2})}})}},function(e,t,n){"use strict";var r=window.OnlySVG,i=r.utils.Color,s=["#e96c65","#f2c966","#6bd492","#89c1a8","#767297","#5a9aa2","#62c4ec","#f2ab66"],o=n(58),u=60,a=n(42);r.fn.drawLocation=function(e){var t=this,n=this.attr("width"),r=this.attr("height"),f=void 0,l=void 0,c=[];if(!e.length)return!1;e.sort(function(e,t){return parseFloat(t.percent)-parseFloat(e.percent)});var h=Math.min(e.length,12);for(var p=0;p<h;p++){var d=e[p],v=parseFloat(d.percent);p===0&&(f=v),p===h-1&&(l=v);var m=o((v+""+p).split("").reverse().join("")).toString().split(".")[1];d.x=parseInt(m.substr(-4))/1e4,d.y=parseInt(m.substr(0,4))/1e4,d.power=v,d.rank=p,c.push(d)}var g=this.createChild("g"),y=g.createChild("g"),b=n/2,w=r/2,E=b,S=w,x=void 0,T=0,N=void 0,C=void 0,k=void 0,L=void 0,A=5,O=[{num:[2,3,2,4],corner:[180,195,225,180]},{num:[2,3,4,2],corner:[180,165,195,210]}],M=O[c[0].power%O.length],_=0,D=0;while(M.num[_]&&h>D+M.num[_])D+=M.num[_],_++;var P=function(t){var o=c[t],p=(o.power-l)/(f-l),d=t===0?1:f===l?.3:.1+(h-t)/h*p/2,v=u*d,m=new i(s[t%s.length]),O=f===l?1:.5+.5*p,_=m.getHSL();_.l=1-(1-_.l)*O,m.setHSL(_),t===0?(E=b,S=w+u*2):(x?x--:(T++,N=(T+1)*(n-100)/A/2,C=(T+1)*(r-u-30)/A/2,k=w+o.y*u+u*2-C,x=M.num[T-1]-1,y.createChild("ellipse",{cx:b,cy:k,rx:N,ry:C,fill:"none",stroke:"#eaeaea","stroke-dasharray":"3 3"})),L=M.corner[T-1]+((540-M.corner[T-1]*2)*x+(o.x-.5)*60)/(M.num[T-1]-1),E=b+N*Math.cos(L*Math.PI/180),S=k+C*Math.sin(L*Math.PI/180));var D=function(e){var t=10,r=a(e,7);return r/2+t-E>=0?r/2+t-E:r/2+t+E>=n?-(r/2+t+E-n):0}(o.entity||"\u795e\u79d8\u89d2\u8272"),P=g.createChild("g",{"data-rank":o.rank,transform:"translate("+E+", "+S+")"});P.createChildren({type:"circle",attr:{cx:0,cy:0,r:v},css:{fill:m,stroke:m,"stroke-width":0,"stroke-opacity":.5}},{type:"text",attr:{x:0,y:v+13,text:o.entity||"\u795e\u79d8\u89d2\u8272",transform:"translate("+D+", "+0+")","data-transx":D},css:{"font-family":"Microsoft Yahei","font-size":14,"text-anchor":"middle",stroke:"#fff","stroke-width":5}},{type:"text",attr:{x:0,y:v+13,text:o.entity||"\u795e\u79d8\u89d2\u8272",transform:"translate("+D+", "+0+")","data-transx":D},css:{fill:"#444","font-family":"Microsoft Yahei","font-size":14,"text-anchor":"middle"}}).on("mouseenter",function(){this.toTop()}).toBottom().find("circle").on("mouseenter",function(){this.stop().css({"stroke-width":0,"stroke-opacity":.5}).animate({"stroke-width":v*.3,"stroke-opacity":.5},{duration:200}).animate({"stroke-width":v*.6,"stroke-opacity":0},{duration:400})})};for(var H=0;H<h;H++)P(H);var B=g.getBBox();return y.toBottom(),g.attr({transform:"translate("+((n-B.width)/2-B.x)+","+((r-B.height)/2-B.y)+")"}),this.once("$_svg_resize",function(n){var r=n.customAttr.width;t.attr("width",r).clear().drawLocation(e)}),this}},function(e,t,n){"use strict";function r(e,t){var n=new RegExp("(\\s+|^)"+e+"(\\s+|$)");return n.test(t)?!0:!1}Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=undefined,n(67);var i=Vue.extend({template:'<div class="dialog" v-bind:class="class" v-show="show">\n					<div class="dialog_mask" v-on:click="quit" v-if="opts.type !== \'toast\'"></div>\n					<div class="dialog_wrap">\n						<i class="quit" v-on:click="quit" v-if="opts.type !== \'toast\'"></i>\n						<div class="content" v-html="opts.contentTemplate"></div>\n						<div class="operate" v-on:click="operate" v-if="opts.operateTemplate"  v-html="opts.operateTemplate"></div>\n						<div class="operate" v-on:click="operate" v-else>\n							<a class="btn btn_submit" href="javascript:void(0)" v-if="opts.type !== \'toast\'">\u786e\u5b9a</a>\n							<a class="btn btn_cancel" href="javascript:void(0)" v-if="opts.type !== \'alert\' && opts.type !== \'toast\'">\u53d6\u6d88</a>\n						</div>\n					</div>\n				</div>',data:function(){return{opts:{name:"",type:"alert",contentTemplate:"",operateTemplate:"",timer:0},show:!1,timer:null}},computed:{"class":function(){return"dialog_"+this.opts.type}},methods:{quit:function(){var t=this.opts.name;this.show=!1,this.opts={name:"",type:"alert",contentTemplate:"",operateTemplate:"",timer:0},clearTimeout(this.timer),this.$dispatch("dialogQuit",t)},operate:function(t){var n=t.target,i=void 0,s=void 0;while(n)if(n&&n.className&&n.className.trim()){var o=n.className.trim();if(r("operate",o))break;if(r("btn",o)){if(r("btn_submit",o)){if(this.opts.type!=="prompt"){s=this.opts.type;break}if(this.$el&&this.$el.querySelector('input[v-model="true"]')){var u=this.$el.querySelector('input[v-model="true"]');if(u){s=u.value.trim();break}}}else if(r("btn_cancel",o)){s="";break}}else{if(!n.parentNode)break;n=n.parentNode}}else{if(!n||!n.parentNode)break;n=n.parentNode}s!==undefined&&(i=this.opts.name,this.show=!1,this.opts={name:"",type:"alert",contentTemplate:"",operateTemplate:"",timer:0},clearTimeout(this.timer),this.$dispatch("dialogQuit",i,s))}},events:{dialogInit:function(t){this.opts={name:"",type:"alert",contentTemplate:"",operateTemplate:"",timer:0},Object.assign(this.opts,t),this.show=!0,clearTimeout(this.timer);if(this.opts.type==="toast"||this.opts.timer){var n=this;this.timer=setTimeout(function(){n.quit()},this.opts.timer||1e3)}this.$nextTick(function(){var e=this.$el.querySelector(".dialog_wrap");e.style.marginTop=-(e.offsetHeight/2)+"px"})}}});t.Dialog=i},function(e,t){},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Index=undefined,n(72);var r=n(74),i=n(30),s=n(75),o=n(76),u=n(36),a=n(79),f=Vue.extend({template:'\n		<nav id="hd_nav" style="display:none;" bk>\n			<ul class="nav">\n				<li><a v-link="{name: \'rank\'}">\u70ed\u95e8\u6392\u884c</a></li>\n				<li><a v-link="{name: \'topic\'}">\u5386\u53f2\u4e13\u9898</a></li>\n				<li><a v-link="{name: \'popular\'}">\u4eba\u6c14\u699c</a></li>\n			</ul>\n			<user></user>\n		</nav>\n		<canvas id="index_bg"></canvas>\n		<article id="index">\n			<h1 class="logo"></h1>\n			<div class="search" bk id="searchbar">\n				<search v-bind:query="query"></search>\n			</div>\n			<div id="index_querys" bk>\n				<ul>\n					<li v-for="item in hotData" data-size="{{item.word.length * 20 + (17 + 20 + 10) + 24}}"><a v-on:click.prevent="querySearch" data-keyword="{{item.word}}" href="javascript:void(0)">{{item.word}}</a></li>\n				</ul>\n				<p class="more"><a href="/hot" target="_blank">\u67e5\u770b\u5168\u90e8\u70ed\u70b9&nbsp;&gt;&gt;</a></p>\n			</div>\n			<div id="index_action" bk>\n				<h1>\u70ed\u95e8\u6392\u884c</h1>\n				<div id="index_effect"></div>\n				<ul>\n					<li v-for="(index,item) in catelist" data-x="{{(index % 5) * 200}}" v-bind:class="{active: index === 0}" data-y="{{Math.floor(index / 5) * 160}}"><a v-bind:class="{narrow : item.cate1.length >= 4}" href="/result/rank?cate={{item.cate1}}">{{item.cate1}}</a></li>\n				</ul>\n			</div>\n			<ft></ft>\n		</article>',props:["query","userid"],data:function(){return{hotData:null,catelist:u.hotCates.slice(0,10)}},methods:{querySearch:function(t){this.$dispatch("querySearch",t.target.getAttribute("data-keyword"))}},components:{search:r.Search,user:s.User,ft:o.Footer},route:{data:function(){var t=this;this.$nextTick(function(){t.$dispatch("indexInit"),(0,a.indexEffect)();var e=i.storage.getItem("indexdata","session");e?(t.hotData=JSON.parse(e),t.$nextTick(a.wordEffect)):t.$http.get("/top/query",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&e.body.data&&e.body.data.top_query&&e.body.data.top_query.length&&(i.storage.setItem("indexdata",JSON.stringify(e.body.data.top_query),"session"),t.hotData=e.body.data.top_query,t.$nextTick(a.wordEffect))})})},deactivate:function(t){return(0,a.indexEffectDestroy)(),t.next()}}});t.Index=f},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Vue.extend({template:'<input v-model="query" v-on:keyup.enter="querySearch" type="text" placeholder="\u591a\u4e2a\u5173\u952e\u8bcd\u4ee5\u201c,\u201d\u5206\u9694\uff0c\u6700\u591a5\u4e2a">\n				<button v-on:click="querySearch">\u641c\u7d22</button>',props:["query"],methods:{querySearch:function(){var t=this.query.trim();this.$dispatch("querySearch",t)}}});t.Search=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=window,i=null,s=null,o=function(){r.setTimeout(function(){r.location.reload()},0)},u=Vue.extend({template:'<div class="user" bk id="user_nav">\n			<a v-if="isLogin" class="ucenter" v-bind:class="{notice : notice}" v-link="{name : \'user\'}">\u6211\u7684\u5173\u6ce8</a>\n			<div v-if="isLogin" class="profile" v-on:mouseover="menuOver" v-on:mouseout="menuOut">\n				<div class="name">\n					<a href="http://i.360.cn/?src=pcw_360index" target="_blank"><span>{{username}}</span></a>\n				</div>\n				<ul class="menu" v-show="menuShow">\n					<li><a href="http://i.360.cn/?src=pcw_360index" target="_blank">\u4e2a\u4eba\u4e2d\u5fc3</a></li>\n					<li><a href="javascript:void(0)" v-on:click="signOut">\u9000\u51fa</a></li>\n				</ul>\n			</div>\n			<ul v-else class="login">\n				<li><a href="javascript:void(0);" v-on:click="signIn">\u767b\u5f55</a></li><li><a href="javascript:void(0);" v-on:click="signUp">\u6ce8\u518c</a></li>\n			</ul>\n		</div>',data:function(){return{isReady:!1,isLogin:!1,menuShow:!1,userid:null,username:null,notice:!1}},methods:{init:function(){var t=this,n={src:"pcw_360index",charset:"UTF-8",domainList:["so.com","haosou.com","360.cn"],signIn:{panelTitle:"\u767b\u5f55360\u8d8b\u52bf\uff0c\u4eab\u53d7\u66f4\u591a\u4fbf\u6377\u529f\u80fd",thirdPart:{providers:["sina","tencent","weixin","renren","fetion","telecom"],mode:"pop"}},signUp:{types:["mobile","email"],hideUsername:!1,hidNickname:!0,sendActiveEmail:!0}};i=r.QHPass,i.init(n),i.getUserInfo(function(e){t.isReady=!0,t.isLogin=!0,t.userid=e.qid,t.username=e.username,t.$dispatch("userUpdate",t.userid)},function(){t.isReady=!0,t.$dispatch("userUpdate",null)})},signIn:function(t){this.isReady&&i.signIn(function(){(typeof t=="undefined"?"undefined":n(t)).toLowerCase()==="string"?r.setTimeout(function(){r.location.href="/result/trend?keywords="+
encodeURIComponent(t)+"&time=30"},0):o()})},signUp:function(){this.isReady&&i.signUp(function(){o()})},signOut:function(){this.isReady&&i.signOut(function(){o()})},menuOver:function(){var t=this;r.clearTimeout(s),t.menuShow||(t.menuShow=!0)},menuOut:function(){var t=this;s=r.setTimeout(function(){t.menuShow&&(t.menuShow=!1)},100)}},events:{userNotice:function(t){this.notice=t},signInAgent:function(t){this.signIn(t)}},created:function(){var t=this,n=r.setInterval(function(){r.QHPass&&(r.clearInterval(n),t.init())},100)}});t.User=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=undefined,n(77);var r=Vue.extend({template:'<footer id="footer">\n			<div class="wrap">\n				<ul>\n					<li><a href="http://info.so.com/feedback.html?product=soindex" target="_blank">\u610f\u89c1\u53cd\u9988</a></li><li><a href="http://info.so.com/site_submit.html" target="_blank">\u7f51\u7ad9\u6536\u5f55</a></li><li><a href="http://info.so.com/about.html" target="_blank">\u5173\u4e8e\u6211\u4eec</a></li>\n				</ul>\n				<p>Copyright&nbsp;&copy;&nbsp;360.CN&nbsp;\u5947\u864e360\u65d7\u4e0b\u641c\u7d22\u670d\u52a1</p><p>\u4eacICP\u590708010314\u53f7-19&nbsp;\u4eac\u516c\u7f51\u5b89\u5907110000000006\u53f7</p>\n			</div>\n		</footer>'});t.Footer=r},function(e,t){},,function(e,t,n){"use strict";function o(){var e=document.getElementById("index_querys"),t=e.querySelectorAll("li:not([data-active])"),n=e.querySelectorAll("li[data-active]"),r=e.clientHeight;t=Array.prototype.slice.call(t);var i=[],s=t.length;if(!s)return;var o=800,a=r/2-90,f=Math.min(8,s),l=o,c={560:!0,540:!0};for(var h=0;h<f;h++){var p=t.splice(Math.floor(Math.random()*s--),1)[0];p.setAttribute("data-active",1);var d=Math.random()*Math.min(l,o/4)+o-l,v=Math.floor(d/20)*20;while(c[v]||c[v-20]||c[v+20])d+=20,v+=20;c[v]=!0,l=o-d-p.getAttribute("data-size")-40,i.push({item:p,top:a+Math.random()*r/8-r/16-p.clientHeight/2>>0,left:d-o/2-p.clientWidth/2>>0});if(l<100||h===0)l=o,a-=r/4;if(a<60-r/2)break}u(i,n)}function u(e,t){s.length=0;var n=function(n,r){var i=e[n];s.push(new OnlySVG.utils.SimpleAnime({before:function(){i.item.style.cssText="margin:"+i.top+"px 0 0 "+i.left+"px;opacity:0;transform: perspective(500px) rotateY(-90deg);"},delay:500,duration:500+Math.random()*500,easing:"quart",progress:function(t){i.item.style.cssText="display:block;margin:"+i.top+"px 0 0 "+i.left+"px;opacity:"+t.ease+";transform:perspective(500px) rotateY("+(t.ease-1)*90+"deg);"},after:function(){i.item.style.cssText="display:block;margin:"+i.top+"px 0 0 "+i.left+"px;opacity:1;"}}))};for(var r=0,i=e.length;r<i;r++)n(r,i);var u=t.length;if(u){var a=function(n){var r=t[n],i=getComputedStyle(r);r.removeAttribute("data-active");var o=parseFloat(i.marginTop),u=parseFloat(i.marginLeft);s.push(new OnlySVG.utils.SimpleAnime({duration:300+Math.random()*400,easing:"quartin",progress:function(t){r.style.cssText="display:block;margin:"+o+"px 0 0 "+u+"px;opacity:"+(1-t.ease)+";transform:perspective(500px) rotateY("+t.ease*90+"deg);"},after:function(){r.removeAttribute("style")}}))};for(var f=u;f--;)a(f)}s.push(new OnlySVG.utils.SimpleAnime({duration:5e3,after:function(){o()}}))}function L(e,t){var n=C[0]+(k[0]-C[0])*e/t>>>0,r=C[1]+(k[1]-C[1])*e/t>>>0,i=C[2]+(k[2]-C[2])*e/t>>>0;return"rgba("+n+","+r+","+i+",5)"}function O(e,t,n){var r=A/(A+n);return[(e+(f-p)/2-f/2)*r+f/2,(t+270)*r+l/3]}function M(e,t,n,r,i,s,o,u){return[n+(i-e)/6,r+(s-t)/6,i-(o-n)/6,s-(u-r)/6]}function _(){N++;for(var e=0,t=T.length;e<t;e++)for(var n=0,r=T[e].length;n<r;n++)T[e][n]=[p*Math.pow((n-1)/(b-1),1.5),Math.sin(N*Math.PI*w+Math.pow(n/b,.5)*g*Math.PI)*E*m*Math.pow(n/b,2)+Math.sin(N*Math.PI*S+Math.pow(e/v,.5)*y*Math.PI)*x*m*Math.pow(e/v,2)-Math.pow(n/b,.5)*m,d*e/v];a.repaint=!0}function H(){P.createChild("defs").createChild("linearGradient",{id:"Hover"}).createChildren({type:"stop",attr:{offset:0,"stop-color":"#9ee764"}},{type:"stop",attr:{offset:.43,"stop-color":"#5de88c"}},{type:"stop",attr:{offset:1,"stop-color":"#4ce62b"}});var e=P.find("g");e.remove(),e=P.createChild("g"),e.createChildren({type:"circle",attr:{fill:"#fff",stroke:"#c9f1d8",cx:100,cy:80,r:69.5}},{type:"circle",attr:{fill:"url(#Hover)",cx:100,cy:80,r:64,opacity:.1}},{type:"path",attr:{d:"M100,22 A58,58 0 1,0 158,80",stroke:"#7cd99e","stroke-width":2,fill:"none",opacity:.6}},{type:"path",attr:{d:"M100,33.5 A46.5,46.5 0 1,0 146.5,80",stroke:"#7cd99e","stroke-dasharray":"6,3,1,3",fill:"none",opacity:.5}},{type:"circle",attr:{fill:"#c9f1d8",cx:100,cy:10.5,r:3}},{type:"circle",attr:{fill:"#c9f1d8",cx:30.5,cy:80,r:3}},{type:"circle",attr:{fill:"#c9f1d8",cx:169.5,cy:80,r:3}})}function I(e){for(var t=B.length;t--;)if(B[t]===e){B.splice(t,1);break}}function q(e,t){var n="#19b955",r=1+Math.random()*2,i=r,s=Math.ceil(Math.random()*4)/10;e=e||Math.random()*(f-r*2)+r,t=t||l/2+Math.random()*100-50;var o=Math.random()*2-1,u=(Math.random()-.5)/1e3,c=(Math.random()-.5)/1e3,h=(Math.random()-.5)/2e3,p=a.sprite({x:e,y:t,alpha:0,extraRender:function(){var t=this.stage.ctx;t.beginPath(),t.arc(0,0,i,0,Math.PI*2),t.fillStyle=n,t.fill()}});B.push(new OnlySVG.utils.SimpleAnime({duration:Math.random()*3e3+1e3,delay:Math.random()*1e3,easing:"quint",progress:function(a){p.x=e+(o+c*a.progress)*a.progress,p.y=t+(u+h*a.progress)*a.progress,p.alpha=(.5-Math.abs(.5-a.ease))*2*s,i=(1+a.ease*2)*r},after:function(){p.remove(),I(this)}}))}function R(){for(var e=0;e<j;e++)q();B.push(new OnlySVG.utils.SimpleAnime({duration:5e3,after:function(){I(this),R()}}))}function U(e){if(e.pageY<l)for(var t=0;t<F;t++)q(e.pageX,e.pageY)}function z(){a=new CanvasRender({canvas:document.getElementById("index_bg"),global_scale:1});for(var e=0;e<v;e++){T[e]=[];for(var t=0;t<=b;t++)T[e].push([p*Math.pow((t-1)/(b-1),1.5),Math.sin(Math.pow(t/b,.5)*g*Math.PI)*E*m*Math.pow(t/b,2)+Math.sin(Math.pow(e/v,.5)*y*Math.PI)*x*m*Math.pow(e/v,2)-Math.pow(t/b,.5)*m,d*e/v])}OnlySVG.utils.SimpleAnime.listen(_),a.sprite({extraRender:function(){var t=void 0,n=void 0,i=void 0,s=void 0,o=void 0,u=void 0,a=void 0,f=void 0,l=this.stage.ctx;for(var c=0,h=T.length;c<h;c++){l.beginPath();var d=l.createLinearGradient(0,0,p/2,0);d.addColorStop(0,L(h-c,h)),d.addColorStop(1,L(c,h)),l.strokeStyle=d,l.lineWidth=.5;var v=O.apply(null,T[c][0]),m=r(v,2);o=m[0],u=m[1];var g=O.apply(null,T[c][1]),y=r(g,2);a=y[0],f=y[1],i=o,s=u,l.moveTo(i,s);for(var b=1,w=T[c].length;b<w;b++){var E=[i,s,o,u,a,f];t=E[0],n=E[1],i=E[2],s=E[3],o=E[4],u=E[5];if(b+1<w){var S=O.apply(null,T[c][b+1]),x=r(S,2);a=x[0],f=x[1]}else a=o*2-i,f=u*2-s;var N=M(t,n,i,s,o,u,a,f),C=r(N,4),k=C[0],A=C[1],_=C[2],D=C[3];l.bezierCurveTo(k,A,_,D,o,u)}l.stroke()}}}),P=new OnlySVG("#index_effect",1e3,320),H(),D=document.getElementById("index_action"),D.addEventListener("mouseover",function(e){if(e.target.tagName==="A"){var t=e.target.parentNode;if(t.className!=="active"){D.getElementsByClassName("active")[0].className="",t.className="active";var n=+t.getAttribute("data-x"),r=+t.getAttribute("data-y");P.find("g").attr({transform:"translate("+n+","+r+")"})}}}),R(),i.DOCELE.addEventListener("mousedown",U)}function W(){a&&a.destroy(),a=null,OnlySVG.utils.SimpleAnime.unlisten(_),P&&P.remove(),P=null;for(var e=0,t=s.length;e<t;e++)s[e].destroy();s.length=0;for(var n=0,r=B.length;n<r;n++)B[n].destroy();B.length=0,i.DOCELE.removeEventListener("mousedown",U)}Object.defineProperty(t,"__esModule",{value:!0}),t.indexEffectDestroy=t.indexEffect=t.wordEffect=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(36),s=[],a=null,f=i.DOCELE.clientWidth,l=i.DOCELE.clientHeight,c=/trident\/(\d+)/i.test(navigator.userAgent),h=c&&+RegExp.$1,p=f*2.5,d=l*.6,v=Math.min(d/8,60);c&&h<=7&&(v=8);var m=l/8,g=9,y=3,b=18,w=-0.005,E=3,S=-0.004,x=1,T=[],N=0,C=[158,231,100],k=[25,185,85],A=500,D=void 0,P=void 0,B=[],j=f/120,F=j/3;window.addEventListener("resize",function(){f=i.DOCELE.clientWidth,l=i.DOCELE.clientHeight,p=f*4,d=l*.6;if(!c||h>7)v=Math.min(d/8,60);m=l/8,j=f/120,F=j/3}),t.wordEffect=o,t.indexEffect=z,t.indexEffectDestroy=W},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.None=t.Popular=t.Topic=t.Rank=t.Trend=t.Result=undefined,n(81);var r=n(83),i=n(76),s=n(86),o=n(97),u=n(103),a=n(106),f=n(110),l=Vue.extend({template:'<article id="result">\n			<navigation v-bind:query="query" v-bind:keywords="keywords" v-bind:time="time"></navigation>\n			<div class="wrap">\n				<div id="body">\n					<router-view v-bind:keywords="keywords" v-bind:keywordslist="keywordslist" v-bind:time="time" v-bind:userid="userid"></router-view>\n				</div>\n			</div>\n			<foot></foot>\n		</article>',props:["query","keywords","keywordslist","time","userid"],components:{navigation:r.Navigation,foot:i.Footer},route:{data:function(){this.$dispatch("resultInit",this.$route.query)}}});t.Result=l,t.Trend=s.Trend,t.Rank=o.Rank,t.Topic=u.Topic,t.Popular=a.Popular,t.None=f.None},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=undefined,n(84);var r=n(75),i=n(74),s=Vue.extend({template:'<header id="header">\n			<div class="wrap clearfix">\n				<user></user>\n				<h1 id="logo" bk><a v-link="{name : \'index\'}">360\u8d8b\u52bf</a></h1>\n				<div class="search" bk id="searchbar">\n					<search v-bind:query="query"></search>\n				</div>\n				<nav id="hd_nav" bk>\n					<ul>\n						<li><a v-link="{name: \'rank\'}">\u70ed\u95e8\u6392\u884c</a></li><li><a v-link="{name: \'topic\'}">\u5386\u53f2\u4e13\u9898</a></li><li><a v-link="{name: \'popular\'}">\u4eba\u6c14\u699c</a></li>\n					</ul>\n				</nav>\n			</div>\n		</header>',props:["query","time","keywords"],components:{user:r.User,search:i.Search}});t.Navigation=s},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trend=undefined,n(87);var r=n(89),i=n(36),s=n(90),o=n(93),u=n(94),a=n(95),f=n(96),l=n(30),c=null,h=function(){},p=null,d=l.storage.getItem("favtip")||!1,v=l.storage.getItem("favtip","session")||!1,m=Vue.extend({template:'<article id="trend">\n			<div v-if="redirect">\n				<div class="quickMenu">\n					<ul class="nav" v-on:click="quickNav">\n						<li><a href="javascript:void(0)" v-bind:class="{current : curComponent === \'trend\'}" data-sign="trend">\u53d8\u5316\u8d8b\u52bf</a></li>\n						<li><a href="javascript:void(0)" v-bind:class="{current : curComponent === \'demand\'}" data-sign="demand">\u9700\u6c42\u5206\u5e03</a></li>\n						<li><a href="javascript:void(0)" v-bind:class="{current : curComponent ===\'crowd\'}" data-sign="crowd">\u7528\u6237\u753b\u50cf</a></li>\n					</ul>\n					<ul class="handle">\n						<li><a class="fav" href="javascript:void(0)" v-bind:class="{faved : fav}" v-on:click="favRequest">\u5173\u6ce8</a><div class="tip" v-show="favtipShow"><i v-on:click="favtipClose"></i>\u5173\u6ce8\u540e\u53ef\u6536\u5230<br/>\u8d8b\u52bf\u53d8\u5316\u63d0\u9192~</div></li>\n						<li>\n							<a class="share" href="javascript:void(0)" v-on:click="shareToggle">\u5206\u4eab\u672c\u9875</a>\n							<share v-bind:keywords="keywords" v-bind:time="time"></share>\n						</li>\n						<li v-show="gotopShow"><a class="gotop" href="javascript:void(0)" v-on:click="gotop">\u8fd4\u56de\u9876\u90e8</a></li>\n					</ul>\n				</div>\n				<filter v-bind:keywords="keywords" v-bind:keywordslist="keywordslist" v-bind:time="time"></filter>\n				<trend v-bind:keywords="keywords" v-bind:keywordslist="keywordslist" v-bind:time="time" v-bind:userid="userid"></trend>\n				<demand v-bind:keywords="keywords" v-bind:keywordslist="keywordslist" v-bind:time="time" v-bind:userid="userid" v-bind:render="demandRender"></demand>\n				<crowd v-bind:keywords="keywords" v-bind:keywordslist="keywordslist" v-bind:time="time" v-bind:userid="userid" v-bind:render="crowdRender"></crowd>\n			</div>\n			<div id="svgloading" v-else></div>\n		</article>',data:function(){return{redirect:!1,fav:!1,favid:"",favcount:0,winHeight:i.DOCELE.clientHeight,scrHeight:i.BODY.scrollTop||i.DOCELE.scrollTop,curComponent:"trend",demandRender:!1,crowdRender:!1,favtipShow:!1}},computed:{gotopShow:function(){var t=this;return this.scrHeight>this.winHeight?(!this.favtipShow&&!d&&!v&&(this.favtipShow=!0,p=i.WIN.setTimeout(function(){v=!0,t.favtipShow=!1,l.storage.setItem("favtip",1,"session")},5e3)),!0):!1}},methods:{favAction:function(){var t=this;this.favtipClose(),this.$http.get("/user/attend?q="+i.WIN.encodeURIComponent(this.keywords)+"&o=add",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&e.body.data&&(e.body.data.id&&(t.fav=!0,t.favid=e.body.data.id),t.favcount=e.body.data.count||0,t.$dispatch("dialogInit",{contentTemplate:'<div style="font-size:16px; font-weight:bold;">\u5173\u6ce8\u6210\u529f</div><div style="margin-top: 6px;">\u53ef\u5728\u3010\u6211\u7684\u5173\u6ce8\u3011\u4e2d\u67e5\u770b</div>',timer:4e3}))},function(){t.$dispatch("dialogInit",{contentTemplate:"<div>\u51fa\u95ee\u9898\u4e86\u54e6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5</div>"})})},favRequest:function(){var t=this;this.userid?this.fav&&this.favid?this.$http.get("/user/attend?id="+this.favid+"&o=del",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&(t.fav=!1,t.favid="",t.favcount=e.body.data.count||0,t.$dispatch("dialogInit",{type:"toast",contentTemplate:"<div>\u5df2\u53d6\u6d88\u5173\u6ce8</div>"}))},function(){t.$dispatch("dialogInit",{contentTemplate:"<div>\u51fa\u95ee\u9898\u4e86\u54e6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5</div>"})}):this.favcount>=10?this.$dispatch("dialogInit",{name:"fav",type:"confirm",contentTemplate:'<div style="padding:0 20px;">\u60a8\u5df2\u5173\u6ce810\u7ec4\u8d8b\u52bf<br>\u7ee7\u7eed\u5173\u6ce8\u5c06\u5220\u9664\u60a8\u6700\u65e9\u5173\u6ce8\u7684\u4e00\u7ec4\u8d8b\u52bf\u3002\u662f\u5426\u7ee7\u7eed\uff1f</div>'}):this.favAction():this.$dispatch("signInAgent")},favtipClose:function(){d=!0,this.favtipShow=!1,l.storage.setItem("favtip",1),p&&i.WIN.clearTimeout(p)},isFavRequest:function(){var t=this;this.fav=!1,this.favid="",this.userid&&this.$http.get("/user/isAttend?q="+i.WIN.encodeURIComponent(this.keywords),{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&e.body.data&&(e.body.data.id&&(t.fav=!0,t.favid=e.body.data.id),t.favcount=e.body.data.count||0)})},gotop:function(){i.BODY.scrollTop=0,i.DOCELE.scrollTop=0},quickNav:function(t){var n=t.target.getAttribute("data-sign");if(n&&this.$el){var s=this.$el.querySelectorAll(".charts"),o=(0,r.getOffset)(Array.prototype.filter.call(s,function(e){return e.getAttribute("data-sign")===n})[0]).top;this.curComponent=n,i.BODY.scrollTop=o,i.DOCELE.scrollTop=o}},shareToggle:function(t){var n=t.target.parentNode.querySelector(".sharelist");n.style.display==="block"?(n.style.display="none",n.querySelector(".qr").style.display==="block"&&(n.querySelector(".qr").style.display="none")):n.style.display="block"},init:function(){c=null,this.redirect=!1,p&&i.WIN.clearTimeout(p),i.WIN.removeEventListener("resize",h),i.WIN.removeEventListener("scroll",h),this.$nextTick(function(){var e=this;c||(c=new OnlySVG("#svgloading",parseInt(getComputedStyle(document.getElementById("svgloading")).width),400),c.drawLoading()),this.$http.get("/verify/query?q="+i.WIN.encodeURIComponent(this.keywords),{before:function(t){this.verifyPreviousRequest&&this.verifyPreviousRequest.abort(),this.verifyPreviousRequest=t}}).then(function(t){c&&(c.remove(),c=null);if(t.body.status&&Number(t.body.status)===7014){var n=t.body.data&&t.body.data.length?t.body.data.join(","):"";n?e.$router.go({name:"none",query:{q:n}}):e.$router.go({name:"none"})}else e.redirect=!0,e.$nextTick(function(){this.isFavRequest(),Number(this.$route.query.compare)&&Number(this.$route.query.compare)===1&&this.$broadcast("queryAppend"),i.WIN.addEventListener("resize",h),i.WIN.addEventListener("scroll",h)})},function(){c&&(c.remove(),c=null),e.redirect=!0,e.$nextTick(function(){this.isFavRequest(),Number(this.$route.query.compare)&&Number(this.$route.query.compare)===1&&this.$broadcast("queryAppend"),i.WIN.addEventListener("resize",h),i.WIN.addEventListener("scroll",h)})})})}},events:{dialogQuit:function(t,n){switch(t){case"fav":n&&this.favAction()}}},props:["keywords","keywordslist","time","region","userid"],components:{filter:s.Filter,trend:o.Trend,demand:u.Demand,crowd:a.Crowd,share:f.Share},watch:{keywords:function(){this.init()}},route:{data:function(){var t=this;this.demandRender=!1,this.crowdRender=!1,h=function(){t.winHeight=i.DOCELE.clientHeight,t.scrHeight=i.DOCELE.scrollTop||i.BODY.scrollTop,t.$el&&t.$el.querySelectorAll(".charts")&&Array.prototype.forEach.call(t.$el.querySelectorAll(".charts"),function(e){var n=(0,r.getOffset)(e).top,i=e.getAttribute("data-sign");n<=t.scrHeight+t.winHeight/2&&(t.curComponent=i),n<=t.scrHeight+t.winHeight&&t[i+"Render"]!==undefined&&(t[i+"Render"]=!0)})},this.init()},deactivate:function(t){return p&&i.WIN.clearTimeout(p),c&&(c.remove(),c=null),i.WIN.removeEventListener("resize",h),i.WIN.removeEventListener("scroll",h),t.next()}}});i.WIN.addEventListener("svg_resize",function(e){c&&c.trigger("$_svg_resize",{width:e.width})}),t.Trend=m},function(e,t){},,function(e,t){"use strict";function n(e){var t=0,n=0;while(e&&e!==document.body)t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{top:t,left:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffset=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=undefined,n(91);var r=n(36),i=n(37),s=n(10),o=void 0,u=Vue.extend({template:'\n		<div class="filter">\n			<div class="time" id="filter-time">\n				<div class="label">\u65f6\u95f4\uff1a</div>\n				<div class="container" v-on:click="filterdd(\'time\', \'drop\')" data-filter="time" data-drop="{{ +filterDisplay.time }}">{{time | time}}</div>\n				<ul class="select" v-show="filterDisplay.time">\n					<li><a v-link="{name : \'trend\',query : {time : 7,keywords : keywords}}">\u6700\u8fd1\u4e03\u5929</a></li>\n					<li><a v-link="{name : \'trend\',query : {time : 30,keywords : keywords}}">\u6700\u8fd1\u4e00\u4e2a\u6708</a></li>\n				</ul>\n				<div class="customize" data-filter="cancelbubble" v-show="filterDisplay.date">\n					<dl>\n						<dt>\u8d77\u59cb\uff1a</dt>\n						<dd>\n							<div class="form year">\n								<div class="cur" data-filter="syear" data-drop="{{ +customizeDisplay.syear }}">{{sYear}}\u5e74</div>\n								<ul class="list" v-show="customizeDisplay.syear">\n									<li v-for="year in dateMap"><a href="javascript:void(0)" v-on:click="dateCustomize(\'sYear\',$key)">{{$key}}\u5e74</a></li>\n								</ul>\n							</div>\n							<div class="form month">\n								<div class="cur" data-filter="smonth" data-drop="{{ +customizeDisplay.smonth }}">{{sMonth}}\u6708</div>\n								<ul class="list" v-show="customizeDisplay.smonth">\n									<li v-for="month in dateMap[sYear]"><a href="javascript:void(0)" v-on:click="dateCustomize(\'sMonth\',month)">{{month}}\u6708</a></li>\n								</ul>\n							</div>\n						</dd>\n					</dl>\n					<dl>\n						<dt>\u7ed3\u675f\uff1a</dt>\n						<dd>\n							<div class="form year">\n								<div class="cur" data-filter="eyear" data-drop="{{ +customizeDisplay.eyear }}">{{eYear}}\u5e74</div>\n								<ul class="list" v-show="customizeDisplay.eyear">\n									<li v-for="year in dateMap"><a href="javascript:void(0)" v-on:click="dateCustomize(\'eYear\',$key)">{{$key}}\u5e74</a></li>\n								</ul>\n							</div>\n							<div class="form month">\n								<div class="cur" data-filter="emonth" data-drop="{{ +customizeDisplay.emonth }}">{{eMonth}}\u6708</div>\n								<ul class="list" v-show="customizeDisplay.emonth">\n									<li v-for="month in dateMap[eYear]"><a href="javascript:void(0)" v-on:click="dateCustomize(\'eMonth\',month)">{{month}}\u6708</a></li>\n								</ul>\n							</div>\n						</dd>\n					</dl>\n					<dl>\n						<dt></dt>\n						<dd>\n							<button v-on:click="dateSearch">\u786e\u5b9a</button><button v-on:click="filterdd(\'time\', \'customize_cancel\')" data-filter="date">\u53d6\u6d88</button>\n						</dd>\n					</dl>\n				</div>\n			</div>\n\n			<div class="query" id="filter-query">\n				<div class="label">\u6309\u5173\u952e\u8bcd</div>\n				<div class="container">\n					<ul class="list">\n						<li v-for="queryArr in customizeQueryArr">\n							<div class="form">\n								<label v-for="query in queryArr"><input v-if="(typeof query).toLowerCase() === \'object\'" v-on:keypress.enter="querySearch" type="text" value=""/><span v-else><input v-on:keypress.enter="querySearch" type="text" value="{{query}}"/>{{query}}</span><i class="ico_plus" v-if="$index !== queryArr.length - 1"></i></label>\n							</div>\n							<span class="ico_plus btn_plus" v-show="queryAppendDisplay && queryArr.length < '+r.QUEUELEN+'" v-on:click="queryAppend($index)"></span>\n							<span class="delete" v-on:click="queryDelete($index,$event)"></span>\n						</li>\n					</ul>\n					<span class="append" v-show="queryAppendDisplay" v-on:click="queryAppend">\u5173\u952e\u8bcd</span>\n					<span class="search" v-on:click="querySearch">\u786e\u5b9a</span>\n				</div>\n			</div>\n		</div>',props:["keywords","keywordslist","time"],data:function(){return{dateMap:i.dateMap,customizeQueryArr:[],sYear:"",sMonth:"",eYear:"",eMonth:"",filterDisplay:{time:!1,date:!1},customizeDisplay:{syear:!1,smonth:!1,eyear:!1,emonth:!1}}},computed:{customizeQueryLen:function(){var t=0;return this.customizeQueryArr.forEach(function(e){t+=e.length}),t},queryAppendDisplay:function(){return this.customizeQueryLen<r.QUERYLEN}},methods:{dateInit:function(){if(typeof this.time=="number"){var t=new Date,n=new Date;t.setMonth(n.getMonth()-3),this.sYear=t.getFullYear(),this.sMonth=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,this.eYear=n.getFullYear(),this.eMonth=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1}else{var r=this.time.split("|"),i=r[0],s=r[1];this.sYear=i.substr(0,4),this.sMonth=i.substr(4,2),this.eYear=s.substr(0,4),this.eMonth=s.substr(4,2)}},queryInit:function(){var t=[];this.keywordslist.forEach(function(e){t.push(e.split("+"))}),this.customizeQueryArr=[].concat(t)},toggle:function(t){var n=!1;if(t.getAttribute&&t.getAttribute("data-filter")){var r=t.getAttribute("data-filter");for(var i in this.customizeDisplay)i===r?(this.customizeDisplay[i]=!this.customizeDisplay[i],n=!0):this.customizeDisplay[i]=!1;if(n||r==="cancelbubble")return;for(var s in this.filterDisplay)s===r?this.filterDisplay[s]=!this.filterDisplay[s]:this.filterDisplay[s]=!1}else if(t===document.body){for(var o in this.filterDisplay)this.filterDisplay[o]=!1;for(var u in this.customizeDisplay)this.customizeDisplay[u]=!1}else t=t.parentNode,t&&this.toggle(t)},queryAppend:function(t){isNaN(t)?this.$nextTick(function(){this.customizeQueryArr.push([{}]),this.$nextTick(function(){var e=r.DOC.getElementById("filter-query").querySelectorAll(".container .list li"),t=void 0;e&&e.length&&(t=e.length,e[t-1].querySelector("input").focus())})}):(this.customizeQueryArr[t].push({}),this.$nextTick(function(){var e=r.DOC.getElementById("filter-query").querySelectorAll(".container .list li");if(e&&e.length){var n=e[t].querySelectorAll("input"),i=void 0;n&&n.length&&(i=n.length,n[i-1].focus())}})),this.filterdd("query","append")},queryDelete:function(t,n){this.customizeQueryArr.splice(t,1),this.toggle(n.target),this.filterdd("query","delete")},querySearch:function(t){var n=r.DOC.getElementById("filter-query").querySelectorAll(".container .list li");if(n&&n.length){var i=[];Array.prototype.forEach.call(n,function(e){var t=e.querySelectorAll("input");if(t&&t.length){var n=[];Array.prototype.forEach.call(t,function(e){var t=e.value.trim();t&&n.indexOf(t)===-1&&n.push(t)}),n=n.join("+").trim(),n&&i.indexOf(n)===-1&&i.push(n)}}),i=i.join(",").trim(),i?this.$dispatch("querySearch",i):this.$dispatch("dialogInit",{contentTemplate:"<div>\u68c0\u7d22\u8bcd\u4e0d\u80fd\u4e3a\u7a7a</div>"})}else this.$dispatch("dialogInit",{contentTemplate:"<div>\u68c0\u7d22\u8bcd\u4e0d\u80fd\u4e3a\u7a7a</div>"});this.filterdd("query","search"),t.preventDefault()},dateCustomize:function(t,n){this[t]=n},dateSearch:function(){var t=""+this.sYear+this.sMonth+"|"+this.eYear+this.eMonth;this.filterDisplay.date=!1,this.$dispatch("dateSearch",t),this.filterdd("time","customize_confirm")},cutStr:s,filterdd:function(t,n){monitor.log({cId:"filter-"+t,c:n},"click")}},events:{proxyClick:function(t){this.toggle(t.target)},queryAppend:function(){this.queryAppend()}},created:function(){this.$nextTick(function(){this.dateInit(),this.queryInit(),o=this.$watch("keywords",function(){this.dateInit(),this.queryInit()})})},beforeDestroy:function(){o&&o()}});t.Filter=u},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trend=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(39),n(46),n(50),n(51),n(52),n(59);var i=n(36),s=n(14),o=n(15),u=n(16),a=n(53),f=n(30),l=n(18),c=n(55),h=n(48),p=n(10),d=void 0,v=void 0,m=void 0,g=void 0,y=void 0,b=void 0,w=void 0,E=/(\d{4})(\d{2})(\d{2})/,S=function(t){return t=t.toString(),E.test(t)?t.replace(E,"$1-$2-$3"):!1},x=Vue.extend({template:'<div class="charts" data-sign="trend" style="z-index:2;">\n				<h2 class="tit_charts">\u53d8\u5316\u8d8b\u52bf</h2>\n				<div class="con_charts">\n					<section id="chart_overview">\n						<div class="title">\n							<h3>\u5173\u6ce8\u5ea6</h3>\n							<div class="tipsIcon" data-tips="\u203b \u8be5\u62a5\u8868\u663e\u793a\u5173\u952e\u8bcd\u5728\u6240\u9009\u5468\u671f\u5185\u7684\u5173\u6ce8\u5ea6\u5747\u503c\u3001\u4e0e\u53bb\u5e74\u540c\u671f\u5bf9\u6bd4\u7684\u53d8\u5316\u5e45\u5ea6\u3001\u4e0e\u4e0a\u4e00\u5468\u671f\u5bf9\u6bd4\u7684\u53d8\u5316\u5e45\u5ea6\u3002"></div>\n							<div class="time">{{{time | time \'date\'}}}</div>\n							<region v-bind:modsign="\'overview\'" v-bind:region="overview_region"></region>\n						</div>\n						<div class="container" id="overview_wrap" data-status="{{overview_status}}">\n							<table v-show="overview.length > 0" summary="overview">\n								<thead>\n									<tr>\n										<th>\u5173\u952e\u8bcd</th>\n										<th>\u5173\u6ce8\u5ea6</th>\n										<th>\u5173\u6ce8\u5ea6\u73af\u6bd4</th>\n										<th>\u5173\u6ce8\u5ea6\u540c\u6bd4</th>\n									</tr>\n								</thead>\n								<tbody>\n									<tr v-for="ov in overview">\n										<th title="{{ov.query}}"><a v-bind:href="hrefEncode(ov.query)" target="_blank" title="{{ov.query}}">{{cutstrOverview(ov.query)}}</a></th>\n										<td>{{ov.data[fixtimestr + \'_index\']}}</td>\n										<td data-type="{{upOrDown(ov.data[fixtimestr + \'_chain_ratio\'])}}">{{ov.data[fixtimestr + \'_chain_ratio\']}}</td>\n										<td data-type="{{upOrDown(ov.data[fixtimestr + \'_year_ratio\'])}}">{{ov.data[fixtimestr + \'_year_ratio\']}}</td>\n									</tr>\n								</tbody>\n							</table>\n						</div>\n					</section>\n					<section id="chart_trend">\n						<div class="title">\n							<h3>\u5173\u6ce8\u8d8b\u52bf</h3>\n							<div class="tipsIcon" data-tips="\u203b \u8be5\u66f2\u7ebf\u663e\u793a\u5173\u952e\u8bcd\u5728\u6240\u9009\u5468\u671f\u5185\u4e92\u8054\u7f51\u7528\u6237\u7684\u5173\u6ce8\u7a0b\u5ea6\u53ca\u6301\u7eed\u53d8\u5316\u60c5\u51b5\uff1b\u62c9\u52a8\u4e0b\u65b9\u7684\u65f6\u95f4\u8f74\uff0c\u53ef\u5feb\u901f\u67e5\u770b\u4e0d\u540c\u65f6\u95f4\u6bb5\u7684\u8d8b\u52bf\u3002"></div>\n							<div class="time">{{{trendtime | time \'date\'}}}</div>\n							<region v-bind:modsign="\'trend\'" v-bind:region="trend_region"></region>\n						</div>\n						<div class="container" id="trend_wrap">\n							<div class="hoverInfoCon"></div>\n						</div>\n					</section>\n					<section id="chart_media">\n						<div class="title">\n							<h3>\u66dd\u5149\u91cf</h3>\n							<div class="tipsIcon" data-tips="\u203b \u4ee5360\u6536\u5f55\u7684\u7f51\u9875\u4e3a\u7edf\u8ba1\u57fa\u7840\uff0c\u5206\u6790\u3001\u8ba1\u7b97\u5173\u952e\u8bcd\u7684\u66dd\u5149\u6b21\u6570\u53ca\u6301\u7eed\u53d8\u5316\u60c5\u51b5\uff1b\u62c9\u52a8\u4e0b\u65b9\u7684\u65f6\u95f4\u8f74\uff0c\u53ef\u5feb\u901f\u67e5\u770b\u4e0d\u540c\u65f6\u95f4\u6bb5\u7684\u8d8b\u52bf\u3002"></div>\n							<div class="time">{{{mediatime | time \'date\'}}}</div>\n							<div class="region">\u5168\u56fd</div>\n						</div>\n						<div class="container" id="media_wrap">\n							<div class="hoverInfoCon"></div>\n						</div>\n					</section>\n					<section id="chart_24h">\n						<div class="title">\n							<h3>24\u5c0f\u65f6\u5173\u6ce8</h3>\n							<div class="tipsIcon" data-tips="\u203b \u8be5\u66f2\u7ebf\u663e\u793a\u5173\u952e\u8bcd\u5728\u6240\u9009\u5468\u671f\u5185\uff0c\u6309\u4e00\u592924\u5c0f\u65f6\u5173\u6ce8\u7684\u6ce2\u52a8\u8d8b\u52bf\u3002"></div>\n							<div class="time">{{{fixtime | time \'date\'}}}</div>\n							<div class="region">\u5168\u56fd</div>\n						</div>\n						<div class="container" id="hours_wrap"></div>\n					</section>\n				</div>\n			</div>',data:function(){return{overview:[],overview_status:"",overview_region:"\u5168\u56fd",trend_region:"\u5168\u56fd",trendRender:null,mediaRender:null,trendTop:null,mediaTop:null,trendtime:30,mediatime:30}},computed:{fixtime:function(){return this.time===7?7:30},fixtimestr:function(){return this.time===7?"week":"month"}},props:["keywords","keywordslist","time","userid"],components:{region:c.Region},methods:{bnMap:function T(){var e=void 0,T=void 0;if(i.DOC.cookie&&i.DOC.cookie.match(/__bn=([^;]+);?/))return e=i.DOC.cookie.match(/__bn=([^;]+);?/)[1],T=(0,s.decodeMap)(i.WIN.decodeURIComponent(e)),T;if(!e)return!1},hrefEncode:function(t){return"https://www.so.com/s?q="+i.WIN.encodeURIComponent(t)+"&src=zhishu"},cutstrOverview:function(t){return t.split("+").map(function(e){return p(e,14,"...")}).join("+")},renderOverview:function(t){var n=[],r=!1;for(var i=0,s=this.keywordslist.length;i<s;i++)t[this.keywordslist[i]]?(n.push(t[this.keywordslist[i]]),r=!0):n.push({query:this.keywordslist[i],data:{week_year_ratio:"-",month_year_ratio:"-",week_chain_ratio:"-",month_chain_ratio:"-",week_index:"-",month_index:"-"}});r?(this.overview_status="render",this.overview=n):(this.overview_status="nodata",this.overview=[])},ajaxTrend:function(t,n,s,a){var c=this,h=this.bnMap(),p=[],d=JSON.parse(f.storage.getItem("trendDisableTag","session"))||[];Promise.all([this.$http.post("/index/soIndexJson?area="+this.trend_region+"&q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.keywordslist.join(",")))+"&from="+(n||(0,l.time2date)(this.time).from)+"&to="+(s||(0,l.time2date)(this.time).to)+"&s=0",{before:function(t){this.previousTrendRequest&&this.previousTrendRequest.abort(),this.previousTrendRequest=t}}),this.$http.post("/index/soIndexJson?area="+this.trend_region+"&q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.keywordslist.join(",")))+"&from="+(n||(0,l.time2date)(this.time).from)+"&to="+(s||(0,l.time2date)(this.time).to)+"&s=1",{before:function(t){this.previousTrendRulerRequest&&this.previousTrendRulerRequest.abort(),this.previousTrendRulerRequest=t}})]).then(function(e){var n=r(e,2),s=n[0],a=n[1];if(s.body.status===0&&a&&h){var f=new Image,l=c;f.onload=function(){var e=s.body.data.period,n=!1;for(var r in e){e[r]=S(e[r]);if(!e[r]){n=!0;break}}if(n){l.renderTrend(null,t);return}var c={from:S(s.body.data.init)?new Date(S(s.body.data.init)):new Date(i.period_from),to:new Date(+(new Date)-864e5)};for(var v=0,m=l.keywordslist.length;v<m;v++){var g=void 0,y=l.keywordslist[v];d.indexOf(y)>=0?g={query:y,disable:!0}:s.body.data.index[y]?g={data:(0,u.transfer)((0,o.decode)(s.body.data.index[y],h),h),query:y,disable:!1}:g={query:y,disable:!0,badcase:!0},p.push(g)}l.renderTrend(p,t,e,c,s.body.data.step||1,a),f=null},f.onerror=function(){l.renderTrend(null,t),f=null},f.src=a.body}else c.renderTrend(null,t)},function(){c.renderTrend(null,t)})},renderTrend:function(t,n,r,i,s,o){if(!y)return;if(t){
var u=this;this.trendRender={data:t,duration:r,period:i,vstep:s,ruler:o},y.attr({width:n,height:a.TREND_HEIGHT}).clear().drawLine(this.trendRender,!0,function(e,t){var n=parseInt(getComputedStyle(u.$el).width);e.once("$_redraw_line",function(){var e=new Date(u.trendRender.duration.from),t=""+e.getFullYear()+(0,l.timefix)(e.getMonth()+1)+(0,l.timefix)(e.getDate()),r=new Date(u.trendRender.duration.to),i=""+r.getFullYear()+(0,l.timefix)(r.getMonth()+1)+(0,l.timefix)(r.getDate()),s=JSON.parse(f.storage.getItem("trendDisableTag","session"))||[],o=[];if(s.length)for(var c=0,h=u.keywordslist.length;c<h;c++){if(s.indexOf(u.keywordslist[c])>=0)continue;o.push(u.keywordslist[c])}else o=o.concat(u.keywordslist);u.trendRender=null,u.ajaxTrend(n,t,i,o.join(",")),y.clear().attr({width:n,height:a.LOADING_HEIGHT}).drawLoading()}),t.once("$_redraw_line",function(){var e=void 0,t=void 0,r=void 0,i=void 0,s=[];u.trendtime?(e=u.trendtime.split("|"),t=e[0],r=e[1]):(u.trendtime=u.time,e=(0,l.time2date)(u.trendtime),t=e.from,r=e.to),i=JSON.parse(f.storage.getItem("trendDisableTag","session"))||[];if(i.length)for(var o=0,c=u.keywordslist.length;o<c;o++){if(i.indexOf(u.keywordslist[o])>=0)continue;s.push(u.keywordslist[o])}else s=s.concat(u.keywordslist);u.trendRender=null,u.ajaxTrend(n,t,r,s.join(",")),y.clear().attr({width:n,height:a.LOADING_HEIGHT}).drawLoading()})},this),this.trendTop&&y.drawTop(this.trendTop,this.trendRender)}else y.attr({width:n,height:a.LOADING_HEIGHT}).clear().drawNoData()},ajaxMedia:function(t,n,s,a){var c=this,h=this.bnMap(),p=[],d=JSON.parse(f.storage.getItem("mediaDisableTag","session"))||[];Promise.all([this.$http.post("/index/soMediaJson?q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.keywordslist.join(",")))+"&from="+(n||(0,l.time2date)(this.time).from)+"&to="+(s||(0,l.time2date)(this.time).to)+"&s=0",{before:function(t){this.previousMediaRequest&&this.previousMediaRequest.abort(),this.previousMediaRequest=t}}),this.$http.post("/index/soMediaJson?q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.keywordslist.join(",")))+"&from="+(n||(0,l.time2date)(this.time).from)+"&to="+(s||(0,l.time2date)(this.time).to)+"&s=1",{before:function(t){this.previousMediaRulerRequest&&this.previousMediaRulerRequest.abort(),this.previousMediaRulerRequest=t}})]).then(function(e){var n=r(e,2),s=n[0],a=n[1];if(s.body.status===0&&a&&h){var f=c,l=new Image;l.onload=function(){var e=s.body.data.period,n=!1;for(var r in e){e[r]=S(e[r]);if(!e[r]){n=!0;break}}if(n){f.renderMedia(null,t);return}var c={from:S(s.body.data.init)?new Date(S(s.body.data.init)):new Date(i.period_from),to:new Date(+(new Date)-864e5)};for(var v=0,m=f.keywordslist.length;v<m;v++){var g=void 0,y=f.keywordslist[v];d.indexOf(y)>=0?g={query:y,disable:!0}:s.body.data.media[y]?g={data:(0,u.transfer)((0,o.decode)(s.body.data.media[y],h),h),query:y,disable:!1}:g={query:y,disable:!0,badcase:!0},p.push(g)}f.renderMedia(p,t,e,c,s.body.data.step||1,a),l=null},l.onerror=function(){f.renderMedia(null,t),l=null},l.src=a.body}else c.renderMedia(null,t)},function(){c.renderMedia(null,t)})},renderMedia:function(t,n,r,i,s,o){if(!b)return;if(t){var u=this;this.mediaRender={data:t,duration:r,period:i,vstep:s,ruler:o},b.attr({width:n,height:a.TREND_HEIGHT}).clear().drawLine(this.mediaRender,!0,function(e,t){var n=parseInt(getComputedStyle(u.$el).width);e.once("$_redraw_line",function(){var e=new Date(u.mediaRender.duration.from),t=""+e.getFullYear()+(0,l.timefix)(e.getMonth()+1)+(0,l.timefix)(e.getDate()),r=new Date(u.mediaRender.duration.to),i=""+r.getFullYear()+(0,l.timefix)(r.getMonth()+1)+(0,l.timefix)(r.getDate()),s=JSON.parse(f.storage.getItem("mediaDisableTag","session"))||[],o=[];if(s.length)for(var c=0,h=u.keywordslist.length;c<h;c++){if(s.indexOf(u.keywordslist[c])>=0)continue;o.push(u.keywordslist[c])}else o=o.concat(u.keywordslist);u.mediaRender=null,u.ajaxMedia(n,t,i,o.join(",")),b.clear().attr({width:n,height:a.LOADING_HEIGHT}).drawLoading()}),t.once("$_redraw_line",function(){var e=void 0,t=void 0,r=void 0,i=void 0,s=[];u.mediatime?(e=u.mediatime.split("|"),t=e[0],r=e[1]):(u.mediatime=u.time,e=(0,l.time2date)(u.mediatime),t=e.from,r=e.to),i=JSON.parse(f.storage.getItem("mediaDisableTag","session"))||[];if(i.length)for(var o=0,c=u.keywordslist.length;o<c;o++){if(i.indexOf(u.keywordslist[o])>=0)continue;s.push(u.keywordslist[o])}else s=s.concat(u.keywordslist);u.mediaRender=null,u.ajaxMedia(n,t,r,s.join(",")),b.clear().attr({width:n,height:a.LOADING_HEIGHT}).drawLoading()})},this),this.mediaTop&&b.drawTop(this.mediaTop,this.mediaRender)}else b.attr({width:n,height:a.LOADING_HEIGHT}).clear().drawNoData()},render24h:function(t,n){if(!w)return;if(t){var r=[];for(var i=0,s=this.keywordslist.length;i<s;i++){var o=!1,u=this.keywordslist[i];for(var f=0,l=t.length;f<l;f++)if(t[f].query===u){r.push(t[f]),o=!0;break}o||r.push({query:u,disable:!0})}w.attr({width:n,height:a.HOURS_HEIGHT}).clear().draw24h({duration:this.time,data:r},!0)}else w.attr({width:n,height:a.LOADING_HEIGHT}).clear().drawNoData()},renderTrendTop:function(t){var n=this;if(!y)return;t.sort(function(e,t){return n.keywordslist.indexOf(e.query)-n.keywordslist.indexOf(t.query)}),this.trendTop=t,this.trendRender&&y.drawTop(t,this.trendRender)},renderMediaTop:function(t){var n=this;if(!b)return;t.sort(function(e,t){return n.keywordslist.indexOf(e.query)-n.keywordslist.indexOf(t.query)}),this.mediaTop=t,this.mediaRender&&b.drawTop(t,this.mediaRender)},upOrDown:function(t){if(!t||t==="-"||parseFloat(t)===0)return"empty";var n=t[0];return n==="<"||n==="-"?"down":"up"},cutStr:p,getDurationStr:function(t,n){var r=new Date(t),i=new Date(n),s=function(t){return t<10?"0"+t:t};return""+r.getFullYear()+s(r.getMonth()+1)+s(r.getDate())+"|"+i.getFullYear()+s(i.getMonth()+1)+s(i.getDate())},trendInit:function(){f.storage.removeItem("trendDisableTag","session"),this.$nextTick(function(){var e=this;if(!this.$el)return;this.trendtime=this.time;var t=parseInt(getComputedStyle(this.$el).width);y?y.clear().attr({width:t,height:a.LOADING_HEIGHT}):(y=new OnlySVG("#trend_wrap",t,a.LOADING_HEIGHT),y.on("$_redraw_line.page",function(t){e.trendtime=e.getDurationStr(t.customAttr.duration.from,t.customAttr.duration.to)})),y.drawLoading(),this.trendRender=null;var n=[],r=[];for(var s=0,o=this.keywordslist.length;s<o;s++){var u=this.keywordslist[s],l=f.storage.getItem("trendtop/"+u,"session");l?n.push(JSON.parse(l)):r.push(u)}this.ajaxTrend(t),r.length?this.$http.post("/query/clicktop?q="+i.WIN.encodeURIComponent(r.join(",")),{before:function(t){this.previousTTopRequest&&this.previousTTopRequest.abort(),this.previousTTopRequest=t}}).then(function(t){if(t.body.status===0){for(var r in t.body.data){var i=t.body.data[r],s=[];for(var o in i)s.push({date:o.substr(0,4)+"-"+o.substr(4,2)+"-"+o.substr(6,2),news:i[o].news,relate_query:i[o].relate_query});var u={query:r,data:s};n.push(u),f.storage.setItem("trendtop/"+r,JSON.stringify(u),"session")}e.renderTrendTop(n)}else n.length&&e.renderTrendTop(n)},function(){n.length&&e.renderTrendTop(n)}):this.renderTrendTop(n)})},overviewInit:function(){this.$nextTick(function(){var e=this;if(!this.$el)return;var t={},n=[];for(var r=0,s=this.keywordslist.length;r<s;r++){var o=this.keywordslist[r],u=f.storage.getItem("overview/"+o+"/"+this.overview_region,"session");u?t[o]=JSON.parse(u):n.push(o)}n.length?(this.overview_status="loading",this.$http.post("/index/overviewJson?area="+this.overview_region+"&q="+i.WIN.encodeURIComponent(n.join(",")),{before:function(t){this.previousOverviewRequest&&this.previousOverviewRequest.abort(),this.previousOverviewRequest=t}}).then(function(n){if(n.body.status===0)for(var r=0,i=n.body.data.length;r<i;r++){var s=n.body.data[r];s.data.week_index=h(s.data.week_index),s.data.month_index=h(s.data.month_index),t[s.query]=s,f.storage.setItem("overview/"+s.query+"/"+e.overview_region,JSON.stringify(s),"session")}e.renderOverview(t)},function(){e.renderOverview(t)})):this.renderOverview(t)})},init:function(){f.storage.removeItem("mediaDisableTag","session"),this.trendInit(),this.overviewInit(),this.$nextTick(function(){var e=this;if(!this.$el)return;this.mediatime=this.time;var t=parseInt(getComputedStyle(this.$el).width);b?b.clear().attr({width:t,height:a.LOADING_HEIGHT}):(b=new OnlySVG("#media_wrap",t,a.LOADING_HEIGHT),b.on("$_redraw_line.page",function(t){e.mediatime=e.getDurationStr(t.customAttr.duration.from,t.customAttr.duration.to)})),w?w.clear().attr({width:t,height:a.LOADING_HEIGHT}):w=new OnlySVG("#hours_wrap",t,a.LOADING_HEIGHT),b.drawLoading(),w.drawLoading(),this.mediaRender=null;var n=[],r=[],s=[],o=[];for(var u=0,l=this.keywordslist.length;u<l;u++){var c=this.keywordslist[u],h=f.storage.getItem("mediatop/"+c,"session");h?n.push(JSON.parse(h)):s.push(c);var p=f.storage.getItem("hours/"+c+"/"+this.fixtime,"session");p?r.push(JSON.parse(p)):o.push(c)}this.ajaxMedia(t),o.length?this.$http.post("/index/indexqueryhour?q="+i.WIN.encodeURIComponent(o.join(","))+"&t="+this.fixtime,{before:function(t){this.previousHourRequest&&this.previousHourRequest.abort(),this.previousHourRequest=t}}).then(function(n){if(n.body.status===0){var i=n.body.data.period;for(var s in n.body.data.index){var o={data:n.body.data.index[s].split("|"),query:s,period:i};r.push(o),f.storage.setItem("hours/"+s+"/"+e.fixtime,JSON.stringify(o),"session")}e.render24h(r,t)}else r.length?e.render24h(r,t):e.render24h(null,t)},function(){r.length?e.render24h(r,t):e.render24h(null,t)}):this.render24h(r,t),s.length?this.$http.post("/query/mediatop?q="+i.WIN.encodeURIComponent(s.join(",")),{before:function(t){this.previousMTopRequest&&this.previousMTopRequest.abort(),this.previousMTopRequest=t}}).then(function(t){if(t.body.status===0){for(var r in t.body.data){var i=t.body.data[r],s=[];for(var o in i)s.push({date:o.substr(0,4)+"-"+o.substr(4,2)+"-"+o.substr(6,2),news:i[o]});var u={query:r,data:s};n.push(u),f.storage.setItem("mediatop/"+r,JSON.stringify(u),"session")}e.renderMediaTop(n)}else n.length&&e.renderMediaTop(n)},function(){n.length&&e.renderMediaTop(n)}):this.renderMediaTop(n)})}},events:{regionChange:function(t,n){this[t+"_region"]=n}},created:function(){this.init(),this.$nextTick(function(){d=this.$watch("time",function(){this.init()}),m=this.$watch("trend_region",function(){this.trendInit()}),v=this.$watch("overview_region",function(){this.overviewInit()}),g=this.$watch("keywords",function(){this.init()})})},beforeDestroy:function(){d&&d(),m&&m(),v&&v(),g&&g(),y.remove(),y=null,b.remove(),b=null,w.remove(),w=null}});i.WIN.addEventListener("svg_resize",function(e){y&&y.trigger("$_svg_resize",{width:e.width}),b&&b.trigger("$_svg_resize",{width:e.width}),w&&w.trigger("$_svg_resize",{width:e.width})}),t.Trend=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Demand=undefined,n(57),n(59);var r=n(60),i=n(53),s=n(30),o=n(10),u=void 0,a=void 0,f=void 0,l=void 0,c=void 0,h=Vue.extend({template:'\n			<div class="charts charts_demand" data-sign="demand" style="z-index:1;">\n				<h2 class="tit_charts">\u9700\u6c42\u5206\u5e03</h2>\n				<div class="con_charts" v-bind:class="{con_charts_null : !rankData && !demandData}">\n					<section id="chart_demand">\n						<div class="title">\n							<h3>\u5173\u6ce8{{keywordsArr[currentKeywordIndex]}}\u90fd\u5173\u6ce8</h3>\n							<div class="tipsIcon" data-tips="\u203b \u8be5\u62a5\u8868\u662f\u901a\u8fc7\u5206\u6790\u7528\u6237\u5bf9\u5173\u952e\u8bcd\u7684\u76f8\u5173\u641c\u7d22\u548c\u6d4f\u89c8\uff0c\u8ba1\u7b97\u51fa\u7528\u6237\u5bf9\u8be5\u5173\u952e\u8bcd\u7684\u5173\u6ce8\u70b9\u5206\u5e03\uff1b\u8d8a\u63a5\u8fd1\u5173\u952e\u8bcd\uff0c\u76f8\u5173\u6027\u8d8a\u5927\uff1b\u5706\u5708\u8d8a\u5927\uff0c\u5173\u6ce8\u5ea6\u8d8a\u9ad8\u3002"></div>\n							<div class="time">{{{demandTime | time \'date\'}}}</div>\n							<div class="region">\u5168\u56fd</div>\n						</div>\n						<div class="container">\n							<queryselect v-bind:keywordslist="keywordsArr" v-bind:curindex="currentKeywordIndex"></queryselect>\n							<div id="dstr_wrap"></div>\n						</div>\n					</section>\n					<section class="rank_demand" v-show="rankData">\n						<div class="title">\n							<h3>{{keywordsArr[currentKeywordIndex]}}\u7684\u76f8\u5173\u6392\u884c</h3>\n						</div>\n						<table class="container">\n							<thead>\n								<tr>\n									<th width="{{100 / rankData.length}}%" v-for="cate in rankData"><span>{{cate.tag}}</span></th>\n								</tr>\n							</thead>\n							<tbody>\n								<tr>\n									<td v-for="cate in rankData">\n										<table>\n											<tbody>\n												<tr v-for="(index,elem) in cate.list">\n													<td>{{index + 1}}</td>\n													<td><a v-bind:href="hrefEncode(elem.entity)" target="_blank" title="{{elem.entity}}">{{elem.entity}}</a></td>\n													<td>{{elem.power}}</td>\n												</tr>\n											</tbody>\n										</table>\n									</td>\n								</tr>\n							</tbody>\n						</table>\n					</section>\n					<section id="chart_querys" v-show="demandData">\n						<div class="title">\n							<h3>\u76f8\u5173\u641c\u7d22\u8bcd</h3>\n						</div>\n						<div class="container">\n							<section class="chart_source" id="chart_source_{{currentSourceTab}}">\n								<table v-show="demandData[currentSourceTab + \'_query\']">\n									<thead>\n										<tr>\n											<th colspan="2">\n												<ul class="tab"><li v-bind:class="{\'current\': currentSourceTab == \'from\'}" v-on:click="sourceTab" data-tab="from">\u6765\u6e90\u8bcd</li><li v-bind:class="{\'current\': currentSourceTab == \'to\'}" v-on:click="sourceTab" data-tab="to">\u53bb\u5411\u8bcd</li></ul>\n												<div class="tipsIcon" data-tips="\u203b \u6765\u6e90\u8bcd\uff1a\u7528\u6237\u5728\u641c\u7d22\u5173\u952e\u8bcd\u4e4b\u524d\u8fd8\u6709\u54ea\u4e9b\u9700\u6c42\u3002\n\u203b \u53bb\u5411\u8bcd\uff1a\u53cd\u6620\u7528\u6237\u5728\u641c\u7d22\u5173\u952e\u8bcd\u4e4b\u540e\u8fd8\u6709\u54ea\u4e9b\u9700\u6c42\u3002\n\u203b \u7b97\u6cd5\u8bf4\u660e\uff1a\u6309\u76f8\u5173\u7a0b\u5ea6\u548c\u641c\u7d22\u6307\u6570\u6392\u5e8f\u5f97\u51fa\u3002"></div>\n											</th>\n											<th><span v-if="demandData[currentSourceTab + \'_query\'].length">\u76f8\u5173\u5ea6</span></th>\n										</tr>\n									</thead>\n									<tbody v-if="demandData[currentSourceTab + \'_query\'].length">\n										<tr v-for="item in demandData[currentSourceTab + \'_query\']">\n											<td>{{$index + 1}}.</td>\n											<td><a href="{{getSearchUrl(item.query)}}" target="_blank" title="{{item.query}}">{{cutStr(item.query, 36, \'...\')}}</a></td>\n											<td>\n												<p class="rate"><span v-bind:style="{width:item.relativity * 100 + \'%\'}"></span></p>\n											</td>\n										</tr>\n									</tbody>\n									<tbody v-else>\n										<tr>\n											<td colspan="3">\u6682\u65e0\u6570\u636e</td>\n										</tr>\n									</tbody>\n								</table>\n							</section>\n							<section id="chart_hot">\n								<table v-show="demandData.burst_query">\n									<thead>\n										<tr>\n											<th colspan="2">\n												<ul class="tab"><li class="current">\u641c\u7d22\u98d9\u5347\u8bcd</li></ul>\n												<div class="tipsIcon" data-tips="\u203b \u641c\u7d22\u98d9\u5347\u8bcd\uff1a\u8be5\u62a5\u8868\u663e\u793a\u5173\u952e\u8bcd\u4e0a\u5347\u6700\u5feb\u7684\u76f8\u5173\u641c\u7d22\u8bcd\uff0c\u4e86\u89e3\u5173\u952e\u8bcd\u8fd1\u671f\u9700\u6c42\u70ed\u70b9\u3002"></div>\n											</th>\n											<th><span v-if="demandData.burst_query.length">\u98d9\u5347\u5ea6</span></th>\n										</tr>\n									</thead>\n									<tbody v-if="demandData.burst_query.length">\n										<tr v-for="item in demandData.burst_query">\n											<td>{{$index + 1}}.</td>\n											<td><a href="{{getSearchUrl(item.query)}}" target="_blank" title="{{item.query}}">{{cutStr(item.query, 40, \'...\')}}</a></td>\n											<td>{{item.power}}</td>\n										</tr>\n									</tbody>\n									<tbody v-else>\n										<tr>\n											<td colspan="3">\u6682\u65e0\u6570\u636e</td>\n										</tr>\n									</tbody>\n								</table>\n							</section>\n						</div>\n					</section>\n				</div>\n			</div>',props:["keywords","keywordslist","time","userid","render"],data:function(){return{currentKeyword:null,currentKeywordIndex:0,currentSourceTab:"from",demandData:null,rankData:null}},computed:{demandTime:function(){return typeof this.time=="number"?this.time:30},keywordsArr:function(){var t=[];return this.keywordslist.forEach(function(e){var n=e.split("+");n.forEach(function(e){t.indexOf(e)===-1&&t.push(e)})}),t}},components:{queryselect:r.QuerySelect},created:function(){this.loadData(),this.loadRank(),this.$nextTick(function(){a=this.$watch("demandTime",function(){this.loadData(),this.loadRank()}),l=this.$watch("keywords",function(){var e=this.keywordsArr.indexOf(this.currentKeyword);this.currentKeywordIndex!==e&&(e!==-1?this.currentKeywordIndex=e:this.currentKeywordIndex=0,this.loadData(),this.loadRank())}),c=this.$watch("render",function(){this.loadData(),this.loadRank()})})},beforeDestroy:function(){a&&a(),f&&f(),l&&l(),c&&c(),u&&(u.remove(),u=null)},methods:{loadData:function(){this.$nextTick(function(){var e=this;this.currentKeyword=this.keywordsArr[this.currentKeywordIndex];if(!this.render)return;var t=parseInt(getComputedStyle(this.$el).width);u?u.clear().attr({width:t,height:i.LOADING_HEIGHT}):u=new OnlySVG("#dstr_wrap",t,i.LOADING_HEIGHT),u.drawLoading();var n=s.storage.getItem("demand/"+this.currentKeyword+"/"+this.demandTime,"session");n?this.renderCharts(JSON.parse(n),t):this.$http.get("/index/radarJson?t="+this.demandTime+"&q="+window.encodeURIComponent(this.currentKeyword),{before:function(t){this.previousDataRequest&&this.previousDataRequest.abort(),this.previousDataRequest=t}}).then(function(n){n.body.status===0?(s.storage.setItem("demand/"+e.currentKeyword+"/"+e.demandTime,JSON.stringify(n.body.data),"session"),e.renderCharts(n.body.data,t)):e.renderCharts(null,t)},function(){e.renderCharts(null,t)})})},loadRank:function(){this.$nextTick(function(){var e=this;this.currentKeyword=this.keywordsArr[this.currentKeywordIndex];if(!this.render)return;var t=s.storage.getItem("demandrank/"+this.currentKeyword+"/"+this.demandTime,"session");t?this.rankData=JSON.parse(t):this.$http.get("/index/querytaglist?t="+this.demandTime+"&q="+window.encodeURIComponent(this.currentKeyword),{before:function(t){this.previousRankRequest&&this.previousRankRequest.abort(),this.previousRankRequest=t}}).then(function(t){t.body.status===0&&t.body.data&&t.body.data.length?(s.storage.setItem("demandrank/"+e.currentKeyword+"/"+e.demandTime,JSON.stringify(t.body.data),"session"),e.rankData=t.body.data):e.rankData=null},function(){e.rankData=null})})},renderCharts:function(t,n){if(!u)return;if(t){this.demandData={from_query:t.from_query,to_query:t.to_query,burst_query:t.burst_query};var r=!1;for(var s in this.demandData)if(this.demandData[s].length){r=!0;break}r||(this.demandData=null),t.list&&t.list.length?u.attr({width:n,height:i.DSTR_HEIGHT}).clear().drawDstrmap(t,this):u.attr({width:n,height:i.LOADING_HEIGHT}).clear().drawNoData()}else this.demandData=null,u.attr({width:n,height:i.LOADING_HEIGHT}).clear().drawNoData()},sourceTab:function(t){this.currentSourceTab=t.target.getAttribute("data-tab")},cutStr:o,getSearchUrl:function(t){return i.SEARCH_URL.replace("%query%",encodeURIComponent(t))},hrefEncode:function(t){return"https://www.so.com/s?q="+window.encodeURIComponent(t)+"&src=zhishu"}},events:{CURRENT_QUERY:function(t){this.currentKeywordIndex!==t&&(this.currentKeywordIndex=t),this.loadData(),this.loadRank()}}});window.addEventListener("svg_resize",function(e){u&&u.trigger("$_svg_resize",{width:e.width})}),t.Demand=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Crowd=undefined,n(62),n(63),n(65),n(50),n(51),n(59);var r=n(53),i=n(30),s=n(55),o=void 0,u=void 0,a=void 0,f=void 0,l=void 0,c=void 0,h=void 0,p=void 0,d=Vue.extend({template:'\n			<div class="charts charts_crowd" data-sign="crowd">\n				<h2 class="tit_charts">\u7528\u6237\u753b\u50cf</h2>\n				<div class="con_charts">\n					<section>\n						<div class="title">\n							<h3>\u5e74\u9f84\u6027\u522b</h3>\n							<div class="time">{{{crowdTime | time \'date\'}}}</div>\n							<region v-bind:modsign="\'age\'" v-bind:region="region"></region>\n						</div>\n						<div class="container">\n							<div class="radio">\n								<label v-for="keyword in keywordslist"><input v-model="currentKeyword" type="radio" value="{{keyword}}"/><span v-for="word in keyword.split(\'+\')">{{word}}</span></label>\n							</div>\n							<div id="age_wrap"></div>\n						</div>\n					</section>\n					<section>\n						<div class="title">\n							<h3>\u559c\u6b22{{currentKeyword}}\u7684\u8fd8\u559c\u6b22</h3>\n							<div class="time">{{{crowdTime | time \'date\'}}}</div>\n							<region v-bind:modsign="\'location\'" v-bind:region="region"></region>\n						</div>\n						<div class="container">\n							<div id="location_wrap"></div>\n						</div>\n					</section>\n					<section>\n						<div class="title">\n							<h3>\u5730\u57df</h3>\n							<div class="time">{{{crowdTime | time \'date\'}}}</div>\n							<region v-bind:modsign="\'area\'" v-bind:region="region"></region>\n						</div>\n						<div class="container">\n							<div id="area_wrap">\n								<div class="counter"></div>\n							</div>\n						</div>\n					</section>\n				</div>\n			</div>',props:["keywords","keywordslist","time","userid","render"],components:{region:s.Region},data:function(){return{currentKeyword:null,region:"\u5168\u56fd"}},computed:{crowdTime:function(){return typeof this.time=="number"?this.time:30}},created:function(){this.loadArea(),this.loadData(),this.$nextTick(function(){this.currentKeyword=this.keywordslist[0],f=this.$watch("crowdTime",function(){this.loadArea(),this.loadData()}),l=this.$watch("region",function(){this.loadArea(),this.loadData()}),c=this.$watch("keywords",function(){var e=this.keywordslist.indexOf(this.currentKeyword);e===-1&&(this.currentKeyword=this.keywordslist[0],this.loadArea(),this.loadData())}),h=this.$watch("currentKeyword",function(){this.loadArea(),this.loadData()}),p=this.$watch("render",function(){this.loadArea(),this.loadData()})})},beforeDestroy:function(){f&&f(),l&&l(),c&&c(),h&&h(),p&&p(),o&&(o.remove(),o=null),u&&(u.remove(),u=null),a&&(a.remove(),a=null)},methods:{loadArea:function(){this.$nextTick(function(){var e=this;if(!this.render)return;var t=parseInt(getComputedStyle(this.$el).width);o?o.clear().attr({width:t,height:r.LOADING_HEIGHT}):o=new OnlySVG("#area_wrap",t,r.LOADING_HEIGHT),o.drawLoading();var n=i.storage.getItem("crowd/"+this.currentKeyword+"/"+this.crowdTime,"session");n?this.renderArea(JSON.parse(n),t):this.$http.get("/index/indexquerygraph?t="+this.crowdTime+"&area=\u5168\u56fd&q="+window.encodeURIComponent(this.currentKeyword),{before:function(t){this.previousAreaRequest&&this.previousAreaRequest.abort(),this.previousAreaRequest=t}}).then(function(n){n.body.status===0?(i.storage.setItem("crowd/"+e.currentKeyword+"/"+e.crowdTime,JSON.stringify(n.body.data),"session"),e.renderArea(n.body.data,t)):e.renderArea(null,t)},function(){e.renderArea(null,t)})})},loadData:function(){this.$nextTick(function(){var e=this;if(!this.render)return;var t=parseInt(getComputedStyle(this.$el).width);u?u.clear().attr({width:t,height:r.LOADING_HEIGHT}):u=new OnlySVG("#age_wrap",t,r.LOADING_HEIGHT),a?a.clear().attr({width:t,height:r.LOADING_HEIGHT}):a=new OnlySVG("#location_wrap",t,r.LOADING_HEIGHT),u.drawLoading(),a.drawLoading();var n=i.storage.getItem("crowd/"+this.currentKeyword+"/"+this.crowdTime+"/"+this.region,"session");n?this.renderCharts(JSON.parse(n),t):this.$http.get("/index/indexquerygraph?t="+this.crowdTime+"&area="+this.region+"&q="+window.encodeURIComponent(this.currentKeyword),{before:function(t){this.previousDataRequest&&this.previousDataRequest.abort(),this.previousDataRequest=t}}).then(function(n){n.body.status===0?(i.storage.setItem("crowd/"+e.currentKeyword+"/"+e.crowdTime+"/"+e.region,JSON.stringify(n.body.data),"session"),e.renderCharts(n.body.data,t)):e.renderCharts(null,t)},function(){e.renderCharts(null,t)})})},drawNoData:function(t,n){t.attr({width:n,height:r.LOADING_HEIGHT}).clear().drawNoData()},renderArea:function(t,n){if(!o)return;t?t.province?o.attr({width:n,height:r.AREA_HEIGHT}).clear().drawAreabar(t.province,this.region,this):this.drawNoData(o,n):this.drawNoData(o,n)},renderCharts:function(t,n){if(!o)return;t?(t.sex&&t.age?u.attr({width:n,height:r.AGE_HEIGHT}).clear().drawAge(t):this.drawNoData(u,n),t.interest?a.attr({width:n,height:r.LOCATION_HEIGHT}).clear().drawLocation(t.interest):this.drawNoData(a,n)):(this.drawNoData(u,n),this.drawNoData(a,n))}},events:{regionChange:function(t,n){this.region=n}}});window.addEventListener("svg_resize",function(e){o&&o.trigger("$_svg_resize",{width:e.width}),u&&u.trigger("$_svg_resize",{width:e.width}),a&&a.trigger("$_svg_resize",{width:e.width})}),t.Crowd=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Share=undefined;var r=n(89),i=null,s=Vue.extend({template:'<ul class="sharelist">\n			<li>\n				<a class="wechat" href="javascript:void(0)">\u5206\u4eab\u5fae\u4fe1</a>\n				<div class="qr"></div>\n			</li>\n			<li><a class="weibo" href="javascript:void(0)">\u5206\u4eab\u5fae\u535a</a></li>\n		</ul>',props:["keywords","time"],methods:{resize:function(){i&&window.clearTimeout(i),i=window.setTimeout(function(){var e=document.querySelector(".sharelist"),t=void 0;if(!e)return;t=e.querySelector(".qr");if(t&&t.style.display==="block"){var n=(0,r.getOffset)(e).left,i=e.offsetWidth;n+i+142>document.documentElement.clientWidth?(t.style.left="auto",t.style.right=i+"px"):(t.style.left=i+"px",t.style.right="auto")}},150)},encode:function(t){return window.encodeURIComponent(t)},isShare:function(t){while(t!==document.body){if(t&&t.className&&t.className==="sharelist")return!0;if(!t||!t.parentNode)return!1;t=t.parentNode}return!1}},events:{proxyClick:function(t){if(!this.$el)return;var n=this.isShare(t.target),i=this.$el.querySelector(".qr");if(n){if(t.target.tagName.toLowerCase()==="a")switch(t.target.className){case"wechat":var s=t.target,o=void 0,u=void 0;i.style.display==="block"?i.style.display="none":(o=(0,r.getOffset)(s).left,u=s.offsetWidth,i.style.display="block",o+u+142>document.documentElement.clientWidth?(i.style.left="auto",i.style.right=u+"px"):(i.style.left=u+"px",i.style.right="auto"));break;case"weibo":window.open("http://service.weibo.com/share/share.php?url="+this.encode(window.location.href)+"&appkey=&title="+this.encode("#360\u8d8b\u52bf#")+this.encode("\u4e00\u8d77\u6765\u770b\u3010"+this.keywords+"---\u8d8b\u52bf\u5927\u6570\u636e\u3011( \u6765\u81ea@360\u641c\u7d22 \u5b98\u65b9 )")+"&pic="+this.encode("https://p.ssl.qhimg.com/t0198580482acdbdae6.png")+"&language=zh_cn")}}else i.style.display==="block"&&(i.style.display="none")}},created:function(){var t=this,n=function r(){jQuery&&jQuery(".qr").length&&jQuery(".qr").qrcode?jQuery(".qr").qrcode({width:140,height:140,text:"http://"+window.location.host+"/result?query="+window.encodeURIComponent(t.keywords.replace(/^[\+,\uff0c]+|[\+,\uff0c]+$/g,"").split(/[\+,\uff0c]+/g)[0])+"&period="+([7,30].indexOf(t.time)>-1?t.time:30)}):setTimeout(function(){r()},40)};this.$nextTick(function(){n(),window.addEventListener("resize",this.resize,!1)})},beforeDestroy:function(){window.removeEventListener("resize",this.resize,!1)}});t.Share=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rank=undefined,n(98);var r=n(36),i=n(100),s=r.hotCates.length,o=r.hotCates[0].cate1,u=function(t){var n=void 0;for(var i=0,s=r.hotCates.length;i<s;i++)if(r.hotCates[i].cate1===t){n=i;break}return n},a=Vue.extend({template:'<article id="rank">\n			<h2 class="tit">\u70ed\u95e8\u6392\u884c</h2>\n			<div class="con">\n				<ul class="category clearfix" v-on:click="cateClick">\n					<li style="width:'+Math.floor(100/s)+'%" v-for="item in catelist">\n						<a v-if="item.cate1 === \'IP\'" class="qa" href="http://baike.so.com/doc/3788098-24189441.html" target="_blank"></a>\n						<a href="javascript:void(0);" v-bind:class="{active : item.cate1 === cate}" data-target="cate" data-value="{{item.cate1}}">{{item.cate1}}</a>\n					</li>\n				</ul>\n				<ul class="subcategory" v-on:click="cateClick" v-if="catelist[cateindex].list.length">\n					<li v-for="subcateitem in catelist[cateindex].list">\n						<a href="javascript:void(0);" v-bind:class="subcateitem === subcate ? \'active\' : \'\'" data-target="subcate" data-value="{{subcateitem}}">{{subcateitem}}</a>\n					</li>\n				</ul>\n				<div class="data">\n					<table class="list" v-show="!loading && !empty">\n						<thead>\n							<tr>\n								<th width="8%">\u6392\u540d</th>\n								<th>\u540d\u79f0</th>\n								<th width="12%">\u70ed\u5ea6</th>\n								<th width="12%">\u641c\u7d22\u6307\u6570</th>\n								<th width="12%">\u5a92\u4f53\u6307\u6570</th>\n								<th width="12%">\u6392\u540d\u53d8\u5316</th>\n							</tr>\n						</thead>\n						<tbody>\n							<tr v-for="(index,data) in datalist">\n								<td>{{size * (pageCur - 1) + (index + 1)}}</td>\n								<td><a href="javascript:void(0);" title="{{data.title}}" data-value="{{data.title}}" v-on:click="querySearch">{{data.title}}</a></td>\n								<td>{{data.heat}}</td>\n								<td>{{data.search_index}}</td>\n								<td>{{data.media_index}}</td>\n								<td class="trend"><i class="{{trendMap[data.status] || \'\'}}" v-if="trendMap[data.status]"></i><i class="keep" v-else></i></td>\n							</tr>\n						</tbody>\n					</table>\n					<div class="resource" v-if="cate === \'\u9152\u7c7b\' && !loading && !empty">\u6570\u636e\u6765\u6e90 : <a href="http://www.jiuxian.com" target="_blank">\u9152\u4ed9\u7f51</a></div>\n					<div class="empty" v-show="!loading && empty">\u6570\u636e\u8d70\u4e22\u4e86\uff0c\u5237\u65b0\u8bd5\u8bd5\u770b\uff5e</div>\n					<div class="loading" v-show="loading">\u52a0\u8f7d\u4e2d</div>\n				</div>\n			</div>\n			<pagination v-show="!loading && !empty && pageTotal !== 1" v-bind:cur="pageCur" v-bind:total="pageTotal"></pagination>\n		</article>',data:function(){return{size:10,loading:!0,empty:!0,cate:null,subcate:null,pageCur:1,pageTotal:1,catelist:r.hotCates,datalist:[],trendMap:["down","","up"]}},computed:{cateindex:function(){var t=0;for(var n=0,r=this.catelist.length;n<r;n++)if(this.catelist[n].cate1===this.cate){t=n;break}return t}},methods:{ajax:function(){var t=this;this.loading=!0,this.empty=!0,this.$http.get("/top/list?cate1="+this.cate+"&cate2="+this.subcate+"&page="+this.pageCur+"&size="+this.size,{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&e.body.data&&e.body.data.list&&e.body.data.list.length&&(t.empty=!1,t.datalist=e.body.data.list,t.pageTotal=e.body.data.pages),t.loading=!1},function(){t.loading=!1})},cateClick:function(t){var n=t.target,r=n.getAttribute("data-target"),i=n.getAttribute("data-value");r&&i&&(r==="cate"?this.$router.go({name:"rank",query:{cate:i}}):r==="subcate"&&this.$router.go({name:"rank",query:{cate:this.cate,subcate:i}}))},querySearch:function(t){this.$dispatch("querySearch",t.target.getAttribute("data-value"))}},watch:{pageCur:function(){this.$router.go({name:"rank",query:{cate:this.cate,subcate:this.subcate,page:this.pageCur}})}},components:{pagination:i.Pagination},events:{pageClick:function(t){this.pageCur=t}},route:{data:function(){var t=this.$route.query;this.cate=t.cate&&!isNaN(u(t.cate))?t.cate:o,this.subcate=t.subcate&&r.hotCates[u(this.cate)].list.indexOf(t.subcate)>=0?t.subcate:r.hotCates[u(this.cate)].list[0]||"",this.pageCur=Number(t.page)||1,this.ajax()}}});t.Rank=a},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=undefined,n(101);var r=Vue.extend({template:'<ul id="pagination" v-on:click="pageClick">\n			<li v-show="bprev_show"><a href="javascript:void(0)" data-index="prev">&lt;&nbsp;\u4e0a\u4e00\u9875</a></li>\n			<li><a href="javascript:void(0)" v-bind:class="cur === 1 ? \'active\' : \'\'" data-index="1">1</a></li>\n			<li v-show="eprev_show"><span>...</span></li>\n			<li v-for="index in pagelist"><a href="javascript:void(0)" v-bind:class="cur === index ? \'active\' : \'\'" data-index="{{index}}">{{index}}</a></li>\n			<li v-show="enext_show"><span>...</span></li>\n			<li v-show="total !== 1"><a href="javascript:void(0)" v-bind:class="cur === total ? \'active\' : \'\'" data-index="{{total}}">{{total}}</a></li>\n			<li v-show="bnext_show"><a href="javascript:void(0)" data-index="next">\u4e0b\u4e00\u9875&nbsp;&gt;</a></li>\n		</ul>'
,data:function(){return{visibleCount:5}},computed:{pagelist:function(){var t=Math.max(2,this.cur-Math.floor(this.visibleCount/2)),n=Math.min(this.total-1,this.cur+Math.floor(this.visibleCount/2)),r=[];n-t<this.visibleCount-1&&(this.cur<t+Math.min(this.visibleCount/2)&&(n=Math.min(this.total-1,t+this.visibleCount-1)),this.cur>n-Math.min(this.visibleCount/2)&&(t=Math.max(2,n-this.visibleCount+1)));while(t<=n)r.push(t),t++;return r},eprev_show:function(){return this.cur-Math.floor(this.visibleCount/2)>2?!0:!1},enext_show:function(){return this.cur+Math.floor(this.visibleCount/2)<this.total-1?!0:!1},bprev_show:function(){return this.cur===1?!1:!0},bnext_show:function(){return this.cur===this.total?!1:!0}},props:["cur","total"],methods:{pageClick:function(t){if(t.target.tagName.toLowerCase()==="a"&&t.target.getAttribute("data-index")){var n=t.target.getAttribute("data-index"),r=void 0;isNaN(Number(n))?n==="prev"?r=Math.max(this.cur-1,1):n==="next"&&(r=Math.min(this.cur+1,this.total)):r=Number(n),r&&this.$dispatch("pageClick",r)}}}});t.Pagination=r},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Topic=undefined,n(104);var r=n(36),i=n(30),s=n(89),o=function(){},u=void 0,a=Vue.extend({template:'<article id="topic">\n			<h2 class="tit">\u5386\u53f2\u4e13\u9898</h2>\n			<div class="con">\n				<ul class="list clearfix" v-show="!loading && !empty">\n					<li v-for="item in topicsDom" v-bind:class="{clear : item.clear}">\n						<a v-if="!item.clear" href="{{item.url}}" title="{{item.title}}" target="_blank">\n							<img src="{{item.image.replace(\'qhimg.com\',\'qhimg.com/dmt/370_247_\')}}" alt="{{item.title}}"/>\n							<span class="profile">\n								<i class="name">{{item.title}}</i>\n								<i class="time">\u53d1\u5e03\u65f6\u95f4\uff1a{{item.recordTime.split(\' \')[0]}}</i>\n							</span>\n						</a>\n					</li>\n				</ul>\n				<div class="empty" v-show="!loading && empty">\u6570\u636e\u8d70\u4e22\u4e86\uff0c\u5237\u65b0\u8bd5\u8bd5\u770b\uff5e</div>\n				<div class="loading" v-show="loading">\u52a0\u8f7d\u4e2d</div>\n			</div>\n		</article>',data:function(){return{loading:!0,empty:!0,renderLen:4,topicsDom:[],topicsData:[],winHeight:0,scrHeight:0}},watch:{winHeight:function(){this.render()},scrHeight:function(){this.render()}},methods:{render:function(){var t=this.$el.offsetHeight;u+t<this.scrHeight+this.winHeight*1.5&&this.topicsData.length&&(this.topicsDom=this.topicsDom.concat(this.topicsData.splice(0,this.renderLen)),this.topicsDom.push({clear:!0}),this.topicsData.length&&this.$nextTick(this.render))}},route:{data:function(){this.$nextTick(function(){var e=this,t=this;u=(0,s.getOffset)(this.$el).top,o=function(){t.winHeight=r.DOCELE.clientHeight,t.scrHeight=r.DOCELE.scrollTop||r.BODY.scrollTop},this.topicsData=this.topicsData.concat(JSON.parse(i.storage.getItem("topics","session"))||[]),this.topicsData.length?(this.empty=!1,this.loading=!1,o(),r.WIN.addEventListener("resize",o),r.WIN.addEventListener("scroll",o)):this.$http.get("/history/index",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(t){if(t.body.status===0&&t.body.data.length){var n=t.body.data;i.storage.setItem("topics",JSON.stringify(n),"session"),e.topicsData=e.topicsData.concat(n),e.empty=!1,o(),r.WIN.addEventListener("resize",o),r.WIN.addEventListener("scroll",o)}e.loading=!1},function(){e.loading=!1})})},deactivate:function(t){return r.WIN.removeEventListener("resize",o),r.WIN.removeEventListener("scroll",o),t.next()}}});t.Topic=a},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Popular=undefined,n(107);var r=n(36),i=n(109),s=n(30),o=n(100),u=Number(document.getElementById("initParam").getAttribute("data-stamp"))*1e3,a=new Date(u),f=function(){var e=new Date((new Date(u)).setDate(a.getDate()+1));return new Date(e.getFullYear(),e.getMonth(),e.getDate())}(),l=document.body,c=function(t,n){var r=void 0;if(t.parentNode){r=t.parentNode;while(r.tagName.toLowerCase()!==n){if(r===l||!r.parentNode){r=null;break}r=r.parentNode}}else r=null;return r},h=function(t,n){var r=t,i=!1;while(r!==l){if(r===n){i=!0;break}if(!r.parentNode)break;r=r.parentNode}return i},p=function(t){return t>=10?""+t:"0"+t},d={singer:"\u7537\u6b4c\u624b",songstress:"\u5973\u6b4c\u624b",actor:"\u7537\u6f14\u5458",actress:"\u5973\u6f14\u5458",giant:"\u540d\u4eba"},v=a.getFullYear(),m=2014,g=p(a.getMonth()+1),y=12,b=v+g,w=function(){var e=[],t=m;for(;t<=v;t++)e.push(t);return e}(),E=function(t){var n=void 0;typeof t=="number"?n=t:n=w[this.yearindex];var r=[],i=void 0,s=void 0;n===m?(i=y,s=12):n===v?(i=1,s=a.getMonth()+1):(i=1,s=12);for(;i<=s;i++)r.push(p(i));return r},S=Vue.extend({template:'<article id="popular">\n			<h2 class="tit">\u4eba\u6c14\u699c</h2>\n			<div class="con">\n				<nav v-on:click="navigate">\n					<div class="period">\n						<div class="tip_period" v-if="tip_period">\u70b9\u8fd9\u91cc\u53ef\u4ee5\u67e5\u770b\u5f80\u671f\u699c\u5355\u5466</div>\n						<div class="tit_period"><span>{{parseInt(month)}}\u6708\u699c\u5355</span><a class="ico" data-role="toggle" href="javascript:void(0)"></a></div>\n						<div class="con_period" v-show="toggle_period">\n							<div class="year"><a class="ico prev" v-bind:class="{unprev : yearindex <= 0}" data-role="year" data-value="prev" href="javascript:void(0)"></a><span>{{yearlist[yearindex]}}</span><a class="ico next" v-bind:class="{unnext : yearindex >= yearlist.length - 1}" data-role="year" data-value="next" href="javascript:void(0)"></a></div>\n							<ul class="month clearfix">\n								<li v-for="item in monthlist"><a v-bind:class="{\'active\' : year === yearlist[yearindex] && month === item}" href="javascript:void(0)" data-role="month" data-value="{{item}}">{{parseInt(item)}}\u6708</a></li>\n							</ul>\n						</div>\n					</div>\n					<ul class="category">\n						<li v-for="(key, value) in nav"><a v-bind:class="{\'active\' : action === key}" href="javascript:void(0)" data-role="nav" data-value="{{key}}">{{value}}</a></li>\n					</ul>\n					<a class="rule" v-bind:class="{\'active_rule\' : action === \'rule\'}" href="javascript:void(0)" data-role="nav" data-value="rule">\u67e5\u770b\u89c4\u5219</a>\n				</nav>\n				<div class="content">\n					<div class="list" v-if="action !== \'rule\'">\n						<table v-on:click="operate" v-show="!loading && !empty">\n							<thead>\n								<tr>\n									<th>\u6392\u540d</th>\n									<th>&nbsp;</th>\n									<th>\u4eba\u7269</th>\n									<th v-if="canvote">\u6295\u7968</th>\n									<th v-else>\u4eba\u6c14\u6307\u6570</th>\n									<th v-if="canvote">\u5206\u4eab\u62c9\u7968</th>\n								</tr>\n							</thead>\n							<tbody>\n								<tr v-for="item in datalist" data-value="{{$index}}">\n									<td><i class="counter" v-bind:class="{topcounter : $index <= 2 && page === 1}">{{$index + 1 + size * (page - 1)}}</i></td>\n									<td>\n										<a class="photo" v-bind:href="href(item.key)" target="_blank"><img src="{{clip(item.img_url)}}" alt="{{item.key}}"/></a>\n									</td>\n									<td>\n										<div class="name"><a v-bind:href="href(item.key)" target="_blank">{{item.key}}</a></div>\n										<div class="resume"><a v-bind:href="item.bake_url" target="_blank">{{subs(item.description, 140, \'...\')}}</a></div>\n									</td>\n									<td v-if="canvote">\n										<a class="vote" data-role="vote" href="javascript:void(0)"><i data-role="vote"></i>{{item.vote}}</a>\n										<div class="votetip" v-show="item.votetip">{{votetip}}</div>\n									</td>\n									<td v-else>{{item.vote}}</td>\n									<td v-if="canvote">\n										<ul class="share"><li><a class="wechat" data-role="share" data-value="wechat" href="javascript:void(0)"></a></li><li><a class="weibo" data-role="share" data-value="weibo" href="javascript:void(0)"></a></li><li><a class="qq" data-role="share" data-value="qq" href="javascript:void(0)"></a></li></ul>\n										<a class="sharetip" v-show="item.sharetip" data-role="share" data-value="wechat" href="javascript:void(0)">\u624b\u673a\u626b\u7801\uff0c\u518d\u629510\u7968</a>\n										<div class="qr" v-show="item.qrshow">\n											<div class="code"></div>\u624b\u673a\u626b\u7801<br>\u53bb\u79fb\u52a8\u7aef\u518d\u629510\u7968\n										</div>\n									</td>\n								</tr>\n							</tbody>\n						</table>\n						<pagination v-show="!loading && !empty" v-bind:cur="page" v-bind:total="10"></pagination>\n						<div class="empty" v-show="!loading && empty">\u6570\u636e\u8d70\u4e22\u4e86\uff0c\u5237\u65b0\u8bd5\u8bd5\u770b\uff5e</div>\n						<div class="loading" v-show="loading">\u52a0\u8f7d\u4e2d</div>\n					</div>\n					<div class="rule" v-else>\n						<div class="tit_rule">360\u641c\u7d22\u4eba\u6c14\u699c\u6253\u699c\u89c4\u5219</div>\n						<div class="con_rule">\n							<p>360\u641c\u7d22\u4eba\u6c14\u699c\u662f\u7531\u7528\u6237\u53c2\u4e0e\u6295\u7968\u4ea7\u751f\u7684\u6392\u884c\u699c\uff0c\u7c89\u4e1d\u652f\u6301\u7387\u662f\u5b83\u7684\u552f\u4e00\u6807\u51c6\uff0c\u699c\u5355\u6bcf\u5c0f\u65f6\u66f4\u65b0\uff0c\u771f\u5b9e\u53cd\u6620\u4e86\u7528\u6237\u7684\u5fc3\u58f0\uff01</p>\n							<dl>\n								<dt>\u6295\u7968\u89c4\u5219\uff1a</dt>\n								<dd>\n									<ul>\n										<li>1. \u6bcf\u4eba\u6bcf\u5929\u67095\u7968\u53ef\u4ee5\u652f\u914d\uff0c\u53ef\u4ee5\u6295\u7ed9\u4f60\u559c\u6b22\u7684\u540d\u4eba\uff0c\u5982\u679c\u4f60\u53ea\u5bf9\u4e00\u4eba\u60c5\u6709\u72ec\u949f\uff0c\u90a3\u5168\u90e8\u90fd\u6295\u7ed9\u4ed6/\u5979\u4e5f\u662f\u53ef\u4ee5\u54d2~</li>\n										<li>2. \u5728\u624b\u673a\u7aef\u6bcf\u5929\u53ef\u4ee5\u518d\u629510\u7968\uff1b</li>\n										<li>3. \u4e0a\u699c\u540d\u4eba\u7684\u4eba\u6c14\u6307\u6570\u53ca\u5728\u699c\u5355\u4e0a\u7684\u4f4d\u7f6e\u6bcf\u5c0f\u65f6\u8fdb\u884c\u66f4\u65b0\u3002</li>\n									</ul>\n								</dd>\n							</dl>\n							<dl>\n								<dt>\u4e0a\u699c\u89c4\u5219\uff1a</dt>\n								<dd>\u6bcf\u6708\u641c\u7d22\u91cfTop100\u7684\u540d\u4eba\u5c06\u4f1a\u5165\u56f4\u5404\u4eba\u6c14\u699c\uff0c\u4eba\u6c14\u699c\u4e2d\u641c\u7d22\u91cf\u8dcc\u51faTop100\u7684\u540d\u4eba\u5c06\u4e0d\u4f1a\u53c2\u4e0e\u6253\u699c\uff1b\u672c\u6708\u4eba\u6c14\u6307\u6570\u5c06\u4f1a\u5ef6\u7eed\u5230\u4e0b\u6708\u3002</dd>\n							</dl>\n							<dl>\n								<dt>\u8bc4\u9009\u89c4\u5219\uff1a</dt>\n								<dd>\n									<ul>\n										<li>1. \u6bcf\u670827\u65e50\u65f6\u66f4\u65b0\u7684\u699c\u5355\u4e3a\u672c\u6708\u6700\u7ec8\u699c\u5355\uff0c\u4eba\u6c14\u699c\u622a\u6b62\u6295\u7968\u3002</li>\n										<li>2. \u6b21\u67081\u65e50\u65f6\uff0c\u5f00\u59cb\u65b0\u4e00\u8f6e\u7684\u6253\u699c\uff0c\u5404\u540d\u4eba\u7684\u4eba\u6c14\u6307\u6570\u521d\u59cb\u503c=\u4e0a\u4e2a\u5468\u671f\u5185\u8be5\u540d\u4eba\u7684\u4eba\u6c14\u6307\u6570/\u4e0a\u4e2a\u5468\u671f\u7684\u6709\u6548\u6253\u699c\u5929\u6570\uff0c\u5927\u5bb6\u5728\u65b0\u7684\u5468\u671f\u5185\u8981\u597d\u597d\u5229\u7528\u673a\u4f1a\u53ca\u65f6\u4e3a\u81ea\u5df1\u559c\u6b22\u7684\u540d\u4eba\u6295\u7968\u54e6~</li>\n									</ul>\n								</dd>\n							</dl>\n							<dl>\n								<dt>\u4e0a\u699c\u60ca\u559c\uff1a</dt>\n								<dd>\u5404\u699c\u5355Top10\u7684\u540d\u4eba\u5c06\u4f1a\u5f55\u5236\u4e00\u6bb5\u7b54\u8c22\u89c6\u9891\u653e\u7f6e\u5728\u8be5\u660e\u661f\u7684\u767e\u79d1\u9875\u9762\u3002</dd>\n							</dl>\n						</div>\n					</div>\n				</div>\n			</div>\n		</article>',data:function(){return{size:10,nav:d,now:b,canvote:!1,yearlist:w,loading:!0,empty:!0,datalist:[],yearindex:w.indexOf(v),action:"singer",year:v,month:g,page:1,votekey:"",votestate:!1,votecounter:isNaN(Number((0,i.cookie)("mh_hits_limit")))?5:Number((0,i.cookie)("mh_hits_limit")),tip_period:(0,i.cookie)("ptp_trends")?!1:!0,toggle_period:!1}},computed:{period:function(){return this.year+this.month},votetip:function(){return this.votecounter>0?"\u8fd8\u53ef\u4ee5\u6295"+this.votecounter+"\u7968":"\u4eca\u65e5\u7684\u6295\u7968\u6b21\u6570\u5df2\u7528\u5b8c"},monthlist:E},components:{pagination:o.Pagination},methods:{clip:function(t){return t=t.replace(/\/dr\/.*\//,"/dmfd/90_90_/"),r.isHttps&&(t=t.replace(/^http:\/\/.+\.qh(im|ms)g\.com/,"https://p.ssl.qhimg.com")),t},subs:function(t,n,r,i){var s=0,o=[];t=""+t;for(var u=0,a=t.length;u<a;u++){var f=t.charCodeAt(u)>255?2:1;if(u<a-1&&s+f>=n){o.push(r);break}s+=f,o.push(t.charAt(u)),i&&(s-f)%i>s%i&&o.push("\n")}return o.join("")},encode:function(t){return window.encodeURIComponent(t)},href:function(t){return"http://www.so.com/s?ie=utf-8&src=zhishu&q="+this.encode(t)},ajax:function(){var t=this;this.loading=!0,this.empty=!0,this.$http.jsonp((r.isHttps?"https":"http")+"://open.onebox.so.com/api/gettoplist?type=relation_hits_side&label="+(this.period===b?"":this.period)+d[this.action]+"&src=zhishu&history="+(this.period===b?0:1)+"&page="+this.page+"&limit="+this.size+"&tpl=0").then(function(e){var n=t;e&&e.status===200&&e.body&&e.body.data&&e.body.data.length&&(e.body.data.forEach(function(e){e.votetip=!1,e.sharetip=!1,e.qrcode=!1,e.qrshow=!1,s.storage.getItem(""+n.period+e.key)&&(e.vote=Math.max(Number(s.storage.getItem(""+n.period+e.key)),Number(e.vote)))}),t.empty=!1,t.datalist=e.body.data,b===t.period&&a.getDate()<27?t.canvote=!0:t.canvote=!1,t.$nextTick(function(){document.body.scrollTop?document.body.scrollTop=0:document.documentElement&&(document.documentElement.scrollTop=0)})),t.loading=!1},function(){t.loading=!1})},operate:function(t){var n=this,o=t.target,u=void 0,a=void 0,l=void 0,h=void 0,p=void 0,v=this,m=function(){v.datalist.forEach(function(e,t){t!==p&&(e.votetip||e.sharetip)&&(e.votetip=!1,e.sharetip=!1)}),v.$nextTick(function(){l.votetip=!0,l.sharetip=!0})};if(o.getAttribute("data-role")){u=c(o,"tr");if(!u)return;p=Number(u.getAttribute("data-value")),l=this.datalist[p];if(!l)return;a=o.getAttribute("data-role");switch(a){case"vote":this.votestate||(this.votecounter=isNaN(Number((0,i.cookie)("mh_hits_limit")))?5:Number((0,i.cookie)("mh_hits_limit")),this.votecounter?(this.votestate=!0,this.$http.jsonp((r.isHttps?"https":"http")+"://open.onebox.so.com/api/dovote?type=relation_hits_side&key="+l.key+"&src=zhishu&tpl=0").then(function(e){e&&e.body&&e.body.rev?(l.vote=Number(l.vote)+1,s.storage.setItem(""+n.period+l.key,l.vote),n.votekey=l.key,n.votecounter--,(0,i.cookie)("mh_hits_limit",n.votecounter,{expires:f,domain:"so.com",path:"/"}),o.tagName.toLowerCase()==="i"&&(o=o.parentNode),o.className="vote vote_click",setTimeout(function(){o.className="vote",v.votestate=!1},300)):n.votestate=!1,m()},function(){n.votestate=!1,m()})):m());break;case"share":h=o.getAttribute("data-value");switch(h){case"wechat":this.datalist.forEach(function(e,t){t!==p&&e.qrshow&&(e.qrshow=!1)}),l.qrshow?l.qrshow=!1:(l.qrshow=!0,!l.qrcode&&u.querySelector(".code")&&this.createQr(u.querySelector(".code"),l));break;case"weibo":window.open("http://service.weibo.com/share/share.php?url="+this.encode("http://www.so.com/s?src=zhishu&shareback=weibo&q="+this.encode(l.key))+"&appkey=&title="+this.encode("#360\u641c\u7d22\u4eba\u6c14\u699c# \u6b63\u5728\u706b\u70ed\u8bc4\u9009\u4e2d\uff01"+(this.votekey&&this.votekey===l.key?"\u6211\u6295\u7ed9\u4e86"+l.key+"\uff0c":"")+l.key+"\u76ee\u524d\u5df2\u7ecf\u6709"+l.vote+"\u7968\u4e86\uff0c\u5728\u4eba\u6c14"+d[this.action]+"\u6392\u884c\u699c\u4e2d\u6392\u540d\u7b2c"+l.rank+"\u3002\u5404\u4f4d\u5c0f\u4f19\u4f34\u5feb\u6765\u6295\u7968\u5427\uff01")+"&pic=&language=zh_cn");break;case"qq":window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+this.encode("http://www.so.com/s?src=zhishu&shareback=qq&q="+this.encode(l.key))+"&title=&pics=&summary="+this.encode("#360\u641c\u7d22\u4eba\u6c14\u699c# \u6b63\u5728\u706b\u70ed\u8bc4\u9009\u4e2d\uff01"+(this.votekey&&this.votekey===l.key?"\u6211\u6295\u7ed9\u4e86"+l.key+"\uff0c":"")+l.key+"\u76ee\u524d\u5df2\u7ecf\u6709"+l.vote+"\u7968\u4e86\uff0c\u5728\u4eba\u6c14"+d[this.action]+"\u6392\u884c\u699c\u4e2d\u6392\u540d\u7b2c"+l.rank+"\u3002\u5404\u4f4d\u5c0f\u4f19\u4f34\u5feb\u6765\u6295\u7968\u5427\uff01"))}}}},navigate:function(t){var n=t.target,r=void 0,i=void 0;if(n.getAttribute("data-role")){r=n.getAttribute("data-role");if(r==="toggle")this.action!=="rule"&&(this.toggle_period=!this.toggle_period);else if(n.getAttribute("data-value")){i=n.getAttribute("data-value");switch(r){case"year":i==="prev"?this.yearindex=Math.max(0,this.yearindex-1):i==="next"&&(this.yearindex=Math.min(w.length-1,this.yearindex+1));break;case"month":E(w[this.yearindex]).indexOf(i)>=0&&(this.year!==w[this.yearindex]||this.month!==i)&&(this.toggle_period=!1,this.$router.go({name:"popular",query:{action:this.action,period:w[this.yearindex]+i,page:1}}));break;case"nav":(i==="rule"||d[i])&&this.action!==i&&(i==="rule"?this.$router.go({name:"popular",query:{action:i}}):this.$router.go({name:"popular",query:{action:i,period:this.period,page:1}}))}}}},createQr:function(t,n){var r=this;jQuery&&jQuery(t).length&&jQuery(t).qrcode?(jQuery(t).qrcode({width:100,height:100,text:"http://www.so.com/s?src=zhishu&shareback=wechat&q="+this.encode(n.key)}),n.qrcode=!0):setTimeout(function(){r.createQr()},40)}},events:{pageClick:function(t){t=Number(t),this.page!==t&&this.$router.go({name:"popular",query:{action:this.action,period:this.period,page:t}})},proxyClick:function(t){if(!this.$el)return;var n=this.$el.querySelector(".period"),r=n.querySelector(".con_period"),i=n.querySelector('[data-role="toggle"]');t.target!==i&&!h(t.target,r)&&this.toggle_period&&(this.toggle_period=!1),(!t.target.getAttribute("data-role")||t.target.getAttribute("data-role")!=="share"||t.target.getAttribute("data-value")!=="wechat")&&this.datalist.forEach(function(e){e.qrshow=!1})}},created:function(){this.$nextTick(function(){if(!this.$el)return;if(this.tip_period){var e=this;setTimeout(function(){e.tip_period=!1,(0,i.cookie)("ptp_trends",1,{expires:365,path:"/"})},5e3)}})},route:{data:function(){var t=this.$route.query,n=t.action,r=t.period,i=t.page;n&&(d[n]||n==="rule")&&this.action!==n&&(this.action=n),n!=="rule"&&(r&&r.length===6&&w.indexOf(Number(r.substr(0,4)))>=0&&E(Number(r.substr(0,4))).indexOf(r.substr(4,2))>=0&&(this.year!==Number(r.substr(0,4))&&(this.year=Number(r.substr(0,4))),this.month!==r.substr(4,2)&&(this.month=r.substr(4,2))),i&&Number(i)&&Number(i)<=10&&this.page!==Number(i)&&(this.page=Number(i)),this.yearindex=w.indexOf(this.year),this.ajax())}}});t.Popular=S},function(e,t){},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,r=void 0,i=void 0,s=/\+/g,o=function(t){return n.raw?t:encodeURIComponent(t)},u=function(t){return n.raw?t:decodeURIComponent(t)},a=function(t){return o(n.json?JSON.stringify(t):String(t))},f=function(t){t.indexOf('"')===0&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),n.json?JSON.parse(t):t}catch(r){}},l=function(t,r){var i=n.raw?t:f(t);return typeof r=="function"?r(i):i};n=t.cookie=r=function(t,r,i){if(r!==undefined&&typeof r!="function"){i=Object.assign({},n.defaults,i);if(typeof i.expires=="number"){var s=i.expires,f=i.expires=new Date;f.setTime(+f+s*864e5)}return document.cookie=[o(t),"=",a(r),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=u(v.shift()),g=v.join("=");if(t&&t===m){c=l(g,r);break}!t&&(g=l(g))!==undefined&&(c[m]=g)}return c},t.removeCookie=i=function(t,n){return r(t)===undefined?!1:(r(t,"",Object.assign({},n,{expires:-1})),!r(t))},n.defaults={},t.cookie=r,t.removeCookie=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.None=undefined,n(111);var r=null,i=window,s=5,o=Vue.extend({template:'<article id="none">\n			<div class="con">\n				<div class="announce">\n					<h3>\u6839\u636e\u5f53\u5730\u6cd5\u5f8b\u6cd5\u89c4\uff0c{{words}}\u6682\u4e0d\u80fd\u63d0\u4f9b\u8d8b\u52bf\u548c\u6392\u884c\u670d\u52a1</h3>\n					<div class="home">{{second}}\u79d2\u540e&nbsp;<a v-link="{name : \'index\'}">\u8fd4\u56de360\u8d8b\u52bf\u9996\u9875</a>&nbsp;\u67e5\u770b\u5176\u5b83\u5173\u952e\u8bcd\u53d8\u5316\u8d8b\u52bf</div>\n				</div>\n			</div>\n		</article>',data:function(){return{words:"",second:s}},route:{data:function(){var t=this;this.second=s,this.words=this.$route.query.q.trim()?"\u201c"+this.$route.query.q.trim()+"\u201d":"",r&&i.clearInterval(r),r=i.setInterval(function(){t.second--,t.second<=0&&t.$router.go({name:"index"})},1e3)},deactivate:function(t){return r&&i.clearInterval(r),t.next()}}});t.None=o},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=undefined,n(114);var r=n(36),i=n(89),s=n(83),o=n(76),u=n(116),a=function(){},f=function(){},l=void 0,c=Vue.extend({template:'<article id="user">\n			<navigation v-bind:query="query" v-bind:keywords="keywords" v-bind:time="time"></navigation>\n			<div class="wrap">\n				<div id="body">\n					<h2 class="tit">\u6211\u7684\u5173\u6ce8<i>\u6700\u591a\u53ef\u4ee5\u6dfb\u52a010\u7ec4\u8bcd</i></h2>\n					<div class="con">\n						<ul class="chartlist clearfix" v-show="!loading && !empty">\n							<li v-for="chart in chartsDom">\n								<trend-chart v-bind:id="chart.id" v-bind:words="chart.q.join(\',\')"></trend-chart>\n							</li>\n						</ul>\n						<div class="empty" v-show="!loading && empty">\u60a8\u8fd8\u6ca1\u6709\u4efb\u4f55\u6536\u85cf\uff5e</div>\n						<div class="loading" v-show="loading">\u52a0\u8f7d\u4e2d</div>\n					</div>\n				</div>\n			</div>\n			<foot></foot>\n		</article>',data:function(){return{loading:!0,empty:!0,renderLen:2,chartsDom:[],chartsData:[],winHeight:0,scrHeight:0}},watch:{winHeight:function(){this.render()},scrHeight:function(){this.render()}},methods:{render:function(){if(!this.$el)return;var t=this.$el.querySelector("#body").offsetHeight,n=this;l+t<this.scrHeight+this.winHeight*1.5&&this.chartsData.length&&(this.chartsDom=this.chartsDom.concat(this.chartsData.splice(0,this.renderLen)),this.chartsData.length&&setTimeout(function(){n.render()},100))},FavRequest:function(){var t=this;this.userid&&this.$http.get("/user/list",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){e.body.status===0&&e.body.data.length&&(t.empty=!1,t.chartsData=t.chartsData.concat(e.body.data),a(),r.WIN.addEventListener("resize",a),r.WIN.addEventListener("scroll",a),r.WIN.addEventListener("svg_resize",f)),t.loading=!1},function(){t.loading=!1})}},events:{remove:function(t){var n=this;this.$http.get("/user/attend?id="+t+"&o=del",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(e){if(e.body.status===0){n.$dispatch("dialogInit",{type:"toast",contentTemplate:"<div>\u5df2\u53d6\u6d88\u5173\u6ce8</div>"});for(var r=0,i=n.chartsDom.length;r<i;r++)if(t===n.chartsDom[r].id){n.chartsDom.splice(r,1);break}n.chartsDom.length===0&&n.chartsData.length===0&&(n.empty=!0)}else n.$dispatch("dialogInit",{contentTemplate:"<div>\u51fa\u95ee\u9898\u4e86\u54e6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5</div>"})},function(){n.$dispatch("dialogInit",{contentTemplate:"<div>\u51fa\u95ee\u9898\u4e86\u54e6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5</div>"})})},userUpdateBroadcast:function(){this.$nextTick(function(){this.FavRequest()})}},props:["query","keywords","keywordslist","time","userid"],components:{navigation:s.Navigation,foot:o.Footer,trendChart:u.TrendChart},route:{data:function(){this.$dispatch("userInit");var t=this;a=function(){t.winHeight=r.DOCELE.clientHeight,t.scrHeight=r.DOCELE.scrollTop||r.BODY.scrollTop},f=function(n){t.$broadcast("resize",n.width)},this.$nextTick(function(){l=(0,i.getOffset)(this.$el).top,this.FavRequest()})},deactivate:function(t){return r.WIN.removeEventListener("resize",a),r.WIN.removeEventListener("scroll",a),r.WIN.removeEventListener("svg_resize",f),t.next()}}});t.User=c},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrendChart=undefined;var r=function(){function e(e,t){var n=[],r=!0,i=!1,s=undefined;try{for(var o=e[Symbol.iterator](),u;!(r=(u=o.next()).done);r=!0){n.push(u.value);if(t&&n.length===t)break}}catch(a){i=!0,s=a}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n(117),n(50),n(51),n(59);var i=n(36),s=n(14),o=n(15),u=n(16),a=n(53),f=n(18),l=/(\d{4})(\d{2})(\d{2})/,c=function(t){return t=t.toString(),l.test(t)?t.replace(l,"$1-$2-$3"):!1},h=Vue.extend({template:'<div class="chartEle">\n					<div class="label">\n						<a class="toTrend" v-bind:href="href" target="_blank">\u67e5\u770b\u5b8c\u6574\u4fe1\u606f</a>\n						<ul class="word">\n							<li v-for="keyword in keywordslist" data-value="{{keyword}}"><span v-for="word in keyword.split(\'+\')">{{word}}</span></li>\n						</ul>\n						<a v-show="compareDisplay" class="btn" v-bind:href="href + \'&compare=1\'" target="_blank">\u6dfb\u52a0\u5bf9\u6bd4</a>\n						<a class="btn" href="javascript:void(0)" v-on:click="remove">\u53d6\u6d88\u5173\u6ce8</a>\n					</div>\n					<div class="chart" id="trend_{{id}}_wrap">\n						<div class="hoverInfoCon"></div>\n					</div>\n				</div>',data:function(){return{$trend:null,trendRender:null,trendtime:30,trendregion:"\u5168\u56fd"}},computed:{href:function(){return"/result/trend?keywords="+i.WIN.encodeURIComponent(this.words)+"&time=30"},keywordslist:function(){return this.words.split(",")},compareDisplay:function(){var t=0;return this.keywordslist.forEach(function(e){t+=e.split("+").length}),t<i.QUERYLEN}},props:["id","words"],methods:{bnMap:function p(){var e=void 0,p=void 0;if(i.DOC.cookie&&i.DOC.cookie.match(/__bn=([^;]+);?/))return e=i.DOC.cookie.match(/__bn=([^;]+);?/)[1],p=(0,s.decodeMap)(i.WIN.decodeURIComponent(e)),p;if(!e)return!1},remove:function(){this.$dispatch("remove",this.id)},getDurationStr:function(t,n){var r=new Date(t),i=new Date(n),s=function(t){return t<10?"0"+t:t};return""+r.getFullYear()+s(r.getMonth()+1)+s(r.getDate())+"|"+i.getFullYear()+s(i.getMonth()+1)+s(i.getDate())},ajaxTrend:function(t,n,s,a){var l=this,h=this.bnMap(),p=[];Promise.all([this.$http.post("/index/soIndexJson?area="+this.trendregion+"&q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.words))+"&from="+(n||(0,f.time2date)(this.trendtime).from)+"&to="+(s||(0,f.time2date)(this.trendtime).to)+"&s=0",{before:function(t){this.previousTrendRequest&&this.previousTrendRequest.abort(),this.previousTrendRequest=t}}),this.$http.post("/index/soIndexJson?area="+this.trendregion+"&q="+(a!==undefined?i.WIN.encodeURIComponent(a):i.WIN.encodeURIComponent(this.words))+"&from="+(n||(0,f.time2date)(this.trendtime).from)+"&to="+(s||(0,f.time2date)(this.trendtime).to)+"&s=1",{before:function(t){this.previousTrendRulerRequest&&this.previousTrendRulerRequest.abort(),this.previousTrendRulerRequest=t}})]).then(function(e){var n=r(e,2),s=n[0],a=n[1];if(s.body.status===0&&a&&h){var f=new Image,d=l;f.onload=function(){if(!d.$el)return;var e=s.body.data.period,n=!1;for(var r in e){e[r]=c(e[r]);if(!e[r]){n=!0;break}}if(n){d.renderTrend(null,t);return}var l={from:c(s.body.data.init)?new Date(c(s.body.data.init)):new Date(i.period_from),to:new Date(+(new Date)-864e5)},v=d.$el?d.$el.querySelectorAll(".label .word li"):null,m=function(t,n){var r=void 0,i=d.keywordslist[n];s.body.data.index[i]?r={data:(0,u.transfer)((0,o.decode)(s.body.data.index[i],h),h),query:i,disable:!1}:(r={query:i,disable:!0,badcase:!0},v&&(Array.prototype.filter.call(v,function(e){return e.getAttribute("data-value")===i})[0].className="disable")),p.push(r)};for(var g=0,y=d.keywordslist.length;g<y;g++)m(y,g);d.renderTrend(p,t,e,l,s.body.data.step||1,a),f=null},f.onerror=function(){d.renderTrend(null,t),f=null},f.src=a.body}else l.renderTrend(null,t)},function(){l.renderTrend(null,t)})},renderTrend:function(t,n,r,i,s,o){if(!this.$trend)return;t?(this.trendRender={data:t,duration:r,period:i,vstep:s,ruler:o},this.$trend.attr({width:n,height:a.TREND_HEIGHT-51}).clear().drawTrend4UC(this.trendRender,!0,null,this,{tagLabel:"\u5173\u6ce8\u8d8b\u52bf"})):this.$trend.attr({width:n,height:a.LOADING_HEIGHT}).clear().drawNoData()},init:function(){this.$nextTick(function(){var e=this;if(!this.$el)return;var t=parseInt(getComputedStyle(this.$el).width);this.$trend?this.$trend.clear().attr({width:t,height:a.LOADING_HEIGHT}):(this.$trend=new OnlySVG("#trend_"+this.id+"_wrap",t,a.LOADING_HEIGHT),this.$trend.on("$_redraw_line.page",function(t){e.trendtime=e.getDurationStr(t.customAttr.duration.from,t.customAttr.duration.to)})),this.$trend.drawLoading(),this.trendRender=null,this.ajaxTrend(t)})}},events:{resize:function(t){this.$trend&&this.$trend.trigger("$_svg_resize",{width:t})}},created:function(){this.init()},beforeDestroy:function(){this.$trend.remove(),this.$trend=null}});t.TrendChart=h},function(e,t,n){"use strict";var r=n(17),i=n(36),s=window.OnlySVG,o=n(40),u=n(45),a=n(42),f=["#61b982","#f2c966","#e96c65","#709ddd","#d33f92"],l=35,c=77,h=15,p=864e5;s.fn.drawTrend4UC=function(e,t,n,s,d){var v=this,m=this.attr("width"),g=this.attr("height"),y=void 0,b=void 0,w=void 0,E=void 0,S=this.wrap.id.replace("_wrap","");e.mod=S,e.nocontroller=!0,t?(this.clear(),y=this.createChild("g",{name:"grid"}),b=this.createChild("g",{name:"line"}),w=this.createChild("g",{name:"tags"}),E=this.createChild("g",{name:"hover"}),u(E,e,m,g,s),this.trigger("$_clear_line")):(y=this.find("[name=grid]"),b=this.find("[name=line]"),w=this.find("[name=tags]"),E=this.find("[name=hover]"));var x=[],T=20;if(t&&d&&d.tagLabel){var N=d.tagLabel;w.createChild("text",{x:T,y:20,text:N}).css({"font-size":12,"font-family":"Microsoft Yahei","text-anchor":"start",fill:"#999"}),T=T+a(N)+20}for(var C=0,k=e.data.length;C<k;C++){var L=e.data[C];L.data&&!L.unzip&&(L.data=(0,r.unzip)(L.data,Math.floor((+(new Date(e.duration.to))- +(new Date(e.duration.from)))/p/e.vstep)),L.unzip=!0);if(!L.data)continue;var A=b.find("[name='line_"+L.query+"']");A.length||(A=b.createChild("path",{d:"M0,0",name:"line_"+L.query}).css({fill:"none",stroke:f[C],"stroke-width":2})),L.disable?A.hide():(A.show(),x.push(L))}o(y,e,m,g);for(var O=0,M=x.length;O<M;O++){var _=x[O],D=void 0,P=[],H=_.data;e.vstep!==1?D=(m-h-c)/Math.floor((new Date(e.duration.to)-new Date(e.duration.from))/p/e.vstep):D=(m-h-c)/Math.max(_.data.length-1,1);for(var B=0,j=H.length;B<j;B++){var F=c+D*B,I=void 0,q=B<j-1,R=Number(H[B]);I=g-l-(i.staticData.ruler_height-i.staticData.ruler_offsety)+(i.staticData.ruler_height-i.staticData.ruler_offsety)*(1-R/100),P.length?(P.push(F-D/2,",",I," ",F,",",I),q&&P.push("S")):(P.push("M",c,",",I),e.duration.from===e.duration.to?P.push("L",m-h,",",I,","):P.push("C",c+D/2,",",I," "))}t?b.find("[name='line_"+_.query+"']").attr({d:P.join(""),"clip-path":"url(#lineClip"+S+")"}):b.find("[name='line_"+_.query+"']").animate({d:P.join("")},{duration:300,easing:"quad"})}if(t){var U=this.createChild("clipPath",{id:"lineClip"+S});U.createChild("rect",{x:77,y:0,width:0,height:g}).animate({width:m-77-15},{after:function(){U.remove()}})}return this.once("$_svg_resize",function(t){var r=t.customAttr.width;n&&typeof n=="function"?v.attr("width",r).clear().drawTrend4UC(e,!0,n,s,d):v.attr("width",r).clear().drawTrend4UC(e,!0,null,s,d)}),this.trigger("$_redraw_line",e),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hot=undefined,n(119);var r=n(36),i=n(89),s=n(83),o=n(76),u=function(){},a=void 0,f=Vue.extend({template:'<article id="hot">\n			<navigation v-bind:query="query" v-bind:keywords="keywords" v-bind:time="time"></navigation>\n			<div class="wrap">\n				<div id="body">\n					<h2 class="tit">\u5b9e\u65f6\u70ed\u70b9<i>{{timeStamp}}</i></h2>\n					<div class="con">\n						<div v-bind:class="{list : !loading && !empty}">\n							<table v-show="!loading && !empty">\n								<thead>\n									<tr>\n										<th width="8%">\u6392\u540d</th>\n										<th width="50%">\u540d\u79f0</th>\n										<th>\u70ed\u5ea6</th>\n									</tr>\n								</thead>\n								<tbody>\n									<tr v-for="(index,data) in hotDom">\n										<td>{{index + 1}}</td>\n										<td><a v-bind:class="{hot : parseInt(data.update)}" v-bind:href="hrefEncode(data.query)" target="_blank" title="{{data.query}}">{{data.query}}</a></td>\n										<td>{{data.heat}}\u4eba\u5728\u770b</td>\n									</tr>\n								</tbody>\n							</table>\n						</div>\n						<div class="empty" v-show="!loading && empty">\u6570\u636e\u8d70\u4e22\u4e86\uff0c\u5237\u65b0\u8bd5\u8bd5\u770b\uff5e</div>\n						<div class="loading" v-show="loading">\u52a0\u8f7d\u4e2d</div>\n					</div>\n				</div>\n			</div>\n			<foot></foot>\n			<div class="quickMenu">\n				<ul class="handle">\n					<li v-show="gotopShow"><a class="gotop" href="javascript:void(0)" v-on:click="gotop">\u8fd4\u56de\u9876\u90e8</a></li>\n				</ul>\n			</div>\n		</article>'
,data:function(){return{loading:!0,empty:!0,renderLen:4,hotDom:[],hotData:[],timeStamp:"",winHeight:0,scrHeight:0}},computed:{gotopShow:function(){return this.scrHeight>this.winHeight?!0:!1}},components:{navigation:s.Navigation,foot:o.Footer},watch:{winHeight:function(){this.render()},scrHeight:function(){this.render()}},methods:{render:function(){var t=this.$el.offsetHeight;a+t<this.scrHeight+this.winHeight*1.5&&this.hotData.length&&(this.hotDom=this.hotDom.concat(this.hotData.splice(0,this.renderLen)),this.hotData.length&&this.$nextTick(this.render))},hrefEncode:function(t){return"https://www.so.com/s?q="+r.WIN.encodeURIComponent(t)+"&src=zhishu"},gotop:function(){r.BODY.scrollTop=0,r.DOCELE.scrollTop=0}},route:{data:function(){this.$dispatch("hotInit"),this.$nextTick(function(){var e=this,t=this;a=(0,i.getOffset)(this.$el).top,u=function(){t.winHeight=r.DOCELE.clientHeight,t.scrHeight=r.DOCELE.scrollTop||r.BODY.scrollTop},this.$http.get("/top/realtime",{before:function(t){this.previousRequest&&this.previousRequest.abort(),this.previousRequest=t}}).then(function(t){if(t.body.status===0&&t.body.data.result.length){var n=t.body.data.result;e.timeStamp=t.body.data.update,e.hotData=e.hotData.concat(n),e.empty=!1,u(),r.WIN.addEventListener("resize",u),r.WIN.addEventListener("scroll",u)}e.loading=!1},function(){e.loading=!1})})},deactivate:function(t){return r.WIN.removeEventListener("resize",u),r.WIN.removeEventListener("scroll",u),t.next()}}});t.Hot=f},function(e,t){},,function(e,t){}]);